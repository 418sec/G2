{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-0-9-97-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/en/docs/manual/tutorial/shape","result":{"data":{"site":{"siteMetadata":{"title":"G2","githubUrl":"https://github.com/antvis/g2","docs":[{"slug":"manual/getting-started","title":{"zh":"快速开始","en":"Getting Started"},"order":0},{"slug":"manual/tutorial","title":{"zh":"使用教程","en":"Tutorial"},"order":1},{"slug":"manual/advanced","title":{"zh":"高级教程","en":"Advanced"},"order":2},{"slug":"manual/faq","title":{"zh":"G2 常见问题","en":"FAQ"},"order":3}]},"pathPrefix":""},"markdownRemark":{"html":"<p>自 G2 2.0.x 版本开始我们添加了自定义 Shape 的机制，以支持部分有 <strong>高订制需求的</strong> 图表可视化需求。这也是 G2 在向 <strong>可编程可视化引擎</strong> 迈出的重要一步。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Shape <span class=\"token operator\">=</span> <span class=\"token constant\">G2</span><span class=\"token punctuation\">.</span>Shape<span class=\"token punctuation\">;</span>\nShape<span class=\"token punctuation\">.</span><span class=\"token function\">registerShape</span><span class=\"token punctuation\">(</span>geomName<span class=\"token punctuation\">,</span> shapeName<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 向Shape工厂注册某个geom的一个shape</span>\n  <span class=\"token function\">getPoints</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 自定义具体标记点</span>\n  <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg<span class=\"token punctuation\">,</span> container</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// 自定义最终绘制</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上述 7 行的代码片段即使自定义 Shape 的所有接口。</p>\n<ul>\n<li>geomName <a href=\"/zh/docs/manual/api/geometry\">几何标记</a>名, 如 point, line 等</li>\n<li>shapeName 注册的具体图形名，自定义的图形的名称</li>\n<li>getPoints 自定义形状绘制时需要的节点，比如柱状图需要 4 个节点</li>\n<li>draw 执行图形绘制逻辑、调用绘图引擎</li>\n</ul>\n<p>上述方法更详细的使用说明详见： <a href=\"/zh/docs/manual/api/shape\">Shape API</a>。</p>\n<h2 id=\"1-分钟上手自定义-shape\"><a href=\"#1-%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%E8%87%AA%E5%AE%9A%E4%B9%89-shape\" aria-label=\"1 分钟上手自定义 shape permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 分钟上手自定义 Shape</h2>\n<p>以<a href=\"/zh/examples/column/basic\">柱状图</a>举例，几何标记 interval 会给出四个关键点（即组成矩形的四个顶点），然后将这四个点依次连接，得到每个柱子的形状。<strong>红色圆形</strong> 标记就是几何标记点。默认的柱状图就是通过四个几何标记点，依次相连后得到的。</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*MHASTo6s90oAAAAAAAAAAABkARQnAQ\"></p>\n<p>下面的我们使用自定义 shape 的功能，把上面的柱状图的柱子变成三角形，即如下图所示：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*8MCIS7hehZsAAAAAAAAAAABkARQnAQ\"></p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*GHN3SY_oYXgAAAAAAAAAAABkARQnAQ\"></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Shape <span class=\"token operator\">=</span> <span class=\"token constant\">G2</span><span class=\"token punctuation\">.</span>Shape<span class=\"token punctuation\">;</span>\nShape<span class=\"token punctuation\">.</span><span class=\"token function\">registerShape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'interval'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'triangle'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getPoints</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> y0 <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>y0<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">-</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y0 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y0 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg<span class=\"token punctuation\">,</span> group</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 自定义最终绘制</span>\n    <span class=\"token keyword\">const</span> points <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parsePoints</span><span class=\"token punctuation\">(</span>cfg<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将0-1空间的坐标转换为画布坐标</span>\n    <span class=\"token keyword\">const</span> polygon <span class=\"token operator\">=</span> group<span class=\"token punctuation\">.</span><span class=\"token function\">addShape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'polygon'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      attrs<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        points<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">[</span>points<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">[</span>points<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">[</span>points<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        fill<span class=\"token punctuation\">:</span> cfg<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> polygon<span class=\"token punctuation\">;</span> <span class=\"token comment\">// !必须返回 shape</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> genre<span class=\"token punctuation\">:</span> <span class=\"token string\">'Sports'</span><span class=\"token punctuation\">,</span> sold<span class=\"token punctuation\">:</span> <span class=\"token number\">27500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> genre<span class=\"token punctuation\">:</span> <span class=\"token string\">'Strategy'</span><span class=\"token punctuation\">,</span> sold<span class=\"token punctuation\">:</span> <span class=\"token number\">11500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> genre<span class=\"token punctuation\">:</span> <span class=\"token string\">'Action'</span><span class=\"token punctuation\">,</span> sold<span class=\"token punctuation\">:</span> <span class=\"token number\">6000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> genre<span class=\"token punctuation\">:</span> <span class=\"token string\">'Shooter'</span><span class=\"token punctuation\">,</span> sold<span class=\"token punctuation\">:</span> <span class=\"token number\">3500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> genre<span class=\"token punctuation\">:</span> <span class=\"token string\">'Other'</span><span class=\"token punctuation\">,</span> sold<span class=\"token punctuation\">:</span> <span class=\"token number\">1500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">G2<span class=\"token punctuation\">.</span>Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span>\n  forceFit<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token number\">95</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart\n  <span class=\"token punctuation\">.</span><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'genre*sold'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">'genre'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'triangle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>以下是自定义三角形柱状图的代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Shape<span class=\"token punctuation\">.</span><span class=\"token function\">registerShape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'interval'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'triangle'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 返回三角形的三个顶点</span>\n  <span class=\"token function\">getPoints</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> y0 <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>y0<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> cfg<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">-</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y0 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y0 <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 绘制三角形</span>\n  <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cfg<span class=\"token punctuation\">,</span> group</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 自定义最终绘制</span>\n    <span class=\"token keyword\">const</span> points <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parsePoints</span><span class=\"token punctuation\">(</span>cfg<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将0-1空间的坐标转换为画布坐标</span>\n    <span class=\"token keyword\">const</span> polygon <span class=\"token operator\">=</span> group<span class=\"token punctuation\">.</span><span class=\"token function\">addShape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'polygon'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      attrs<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        points<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">[</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">[</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">[</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        fill<span class=\"token punctuation\">:</span> cfg<span class=\"token punctuation\">.</span>color\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> polygon<span class=\"token punctuation\">;</span> <span class=\"token comment\">// !必须返回 shape</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面代码中，我们进行了三步操作：</p>\n<ol>\n<li>通过 <code class=\"language-text\">getPoints()</code>  方法返回三角形的三个关键点（即三个顶点）。此时 cfg 中会传入，x, y, y0, size。其中 x, y 是柱子最高点的坐标，y0 是横坐标轴的 y 坐标，size 是柱子默认宽度。</li>\n<li>得到标记点后，我们在 <code class=\"language-text\">draw()</code> 方法中拿到 cfg.points 数据和数据映射后的图形属性数据（比如 cfg.color），再通过绘图库提供的多边形图形，将三个点依次头尾相连，生成每个三角形。</li>\n<li>\n<p>通过 addShap 来绘制图形，addShape 的参数参考： <a href=\"https://github.com/antvis/g\" target=\"_self\" rel=\"nofollow\">绘图文档</a></p>\n<blockquote>\n<p>注意：points 数据和参与 points 计算的配置项都是 0-1 空间的数据！</p>\n</blockquote>\n</li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/en/docs/manual/tutorial/shape/#1-%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%E8%87%AA%E5%AE%9A%E4%B9%89-shape\">1 分钟上手自定义 Shape</a></li>\n</ul>","fields":{"slug":"/en/docs/manual/tutorial/shape","readingTime":{"text":"2 min read","time":108000}},"frontmatter":{"title":"自定义 Shape"},"parent":{"__typename":"File","relativePath":"manual/tutorial/shape.en.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/zh/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/zh/examples/radar/radar"},"frontmatter":{"title":"雷达图","order":0}}},{"node":{"fields":{"slug":"/en/examples/radar/radar"},"frontmatter":{"title":"Radar Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/relation/relation"},"frontmatter":{"title":"关系图","order":0}}},{"node":{"fields":{"slug":"/en/examples/relation/relation"},"frontmatter":{"title":"Graph","order":0}}},{"node":{"fields":{"slug":"/en/examples/point/scatter"},"frontmatter":{"title":"Scatter Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/point/scatter"},"frontmatter":{"title":"散点图","order":0}}},{"node":{"fields":{"slug":"/en/examples/other/other"},"frontmatter":{"title":"Others","order":0}}},{"node":{"fields":{"slug":"/en/examples/pie/basic"},"frontmatter":{"title":"Basic Pie Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/pie/basic"},"frontmatter":{"title":"基础饼图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/other/other"},"frontmatter":{"title":"其他图表","order":0}}},{"node":{"fields":{"slug":"/en/examples/map/map"},"frontmatter":{"title":"Map","order":0}}},{"node":{"fields":{"slug":"/zh/examples/map/map"},"frontmatter":{"title":"地图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/line/basic"},"frontmatter":{"title":"基础折线图","order":0}}},{"node":{"fields":{"slug":"/en/examples/line/basic"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/heatmap/heatmap"},"frontmatter":{"title":"Heatmap","order":0}}},{"node":{"fields":{"slug":"/zh/examples/heatmap/heatmap"},"frontmatter":{"title":"热力图","order":0}}},{"node":{"fields":{"slug":"/en/examples/gauge/gauge"},"frontmatter":{"title":"Gauge","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gauge/gauge"},"frontmatter":{"title":"仪表盘","order":0}}},{"node":{"fields":{"slug":"/en/examples/gallery/line"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gallery/line"},"frontmatter":{"title":"折线图","order":0}}},{"node":{"fields":{"slug":"/en/examples/funnel/funnel"},"frontmatter":{"title":"Funnel Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/funnel/funnel"},"frontmatter":{"title":"漏斗图","order":0}}},{"node":{"fields":{"slug":"/en/examples/facet/facet"},"frontmatter":{"title":"Facet","order":0}}},{"node":{"fields":{"slug":"/zh/examples/facet/facet"},"frontmatter":{"title":"分面","order":0}}},{"node":{"fields":{"slug":"/en/examples/component/component"},"frontmatter":{"title":"Chart Components","order":0}}},{"node":{"fields":{"slug":"/zh/examples/component/component"},"frontmatter":{"title":"图表组件","order":0}}},{"node":{"fields":{"slug":"/en/examples/candlestick/demo"},"frontmatter":{"title":"K Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/candlestick/demo"},"frontmatter":{"title":"烛形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/column/basic"},"frontmatter":{"title":"Basic Column Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/column/basic"},"frontmatter":{"title":"基础柱状图","order":0}}},{"node":{"fields":{"slug":"/en/examples/box/box"},"frontmatter":{"title":"Box Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/box/box"},"frontmatter":{"title":"箱型图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/bar/basic"},"frontmatter":{"title":"基础条形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/bar/basic"},"frontmatter":{"title":"Basic Bar Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/area/basic"},"frontmatter":{"title":"Area Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/area/basic"},"frontmatter":{"title":"面积图","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/en/examples/pie/donut"},"frontmatter":{"title":"Donut Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/pie/donut"},"frontmatter":{"title":"环图","order":1}}},{"node":{"fields":{"slug":"/en/examples/line/double"},"frontmatter":{"title":"Double Line Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/line/double"},"frontmatter":{"title":"双折线图","order":1}}},{"node":{"fields":{"slug":"/zh/examples/gallery/column"},"frontmatter":{"title":"柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/gallery/column"},"frontmatter":{"title":"Column Chart","order":1}}},{"node":{"fields":{"slug":"/en/examples/column/dodge"},"frontmatter":{"title":"Grouped Column Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/column/dodge"},"frontmatter":{"title":"分组柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/bar/dodge"},"frontmatter":{"title":"Grouped Bar Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/bar/dodge"},"frontmatter":{"title":"分组条形图","order":1}}},{"node":{"fields":{"slug":"/en/examples/area/stacked"},"frontmatter":{"title":"Stacked Area Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/area/stacked"},"frontmatter":{"title":"堆叠面积图","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/en/examples/pie/rose"},"frontmatter":{"title":"Nightingale Rose Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/pie/rose"},"frontmatter":{"title":"南丁格尔玫瑰图","order":2}}},{"node":{"fields":{"slug":"/zh/examples/line/multiple"},"frontmatter":{"title":"多折线图","order":2}}},{"node":{"fields":{"slug":"/en/examples/line/multiple"},"frontmatter":{"title":"multiple line chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/gallery/bar"},"frontmatter":{"title":"条形图","order":2}}},{"node":{"fields":{"slug":"/en/examples/gallery/bar"},"frontmatter":{"title":"Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/column/stack"},"frontmatter":{"title":"堆叠柱状图","order":2}}},{"node":{"fields":{"slug":"/en/examples/column/stack"},"frontmatter":{"title":"Stacked Column Chart","order":2}}},{"node":{"fields":{"slug":"/en/examples/bar/stack"},"frontmatter":{"title":"Stacked Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/bar/stack"},"frontmatter":{"title":"堆叠条形图","order":2}}},{"node":{"fields":{"slug":"/en/examples/area/range"},"frontmatter":{"title":"Range Area Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/area/range"},"frontmatter":{"title":"区间面积图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/en/examples/pie/nested"},"frontmatter":{"title":"Nested Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/line/step"},"frontmatter":{"title":"阶梯折线图","order":3}}},{"node":{"fields":{"slug":"/zh/examples/pie/nested"},"frontmatter":{"title":"嵌套饼图","order":3}}},{"node":{"fields":{"slug":"/en/examples/line/step"},"frontmatter":{"title":"Step Line Chart","order":3}}},{"node":{"fields":{"slug":"/en/examples/gallery/pie"},"frontmatter":{"title":"Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/gallery/pie"},"frontmatter":{"title":"饼图","order":3}}},{"node":{"fields":{"slug":"/en/examples/column/histogram"},"frontmatter":{"title":"Histogram","order":3}}},{"node":{"fields":{"slug":"/zh/examples/column/histogram"},"frontmatter":{"title":"直方图","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/examples/gallery/area"},"frontmatter":{"title":"面积图","order":4}}},{"node":{"fields":{"slug":"/en/examples/gallery/area"},"frontmatter":{"title":"Area Chart","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/en/examples/gallery/gauge"},"frontmatter":{"title":"Gauge","order":5}}},{"node":{"fields":{"slug":"/zh/examples/gallery/gauge"},"frontmatter":{"title":"仪表盘","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/examples/gallery/facet"},"frontmatter":{"title":"Facet","order":6}}},{"node":{"fields":{"slug":"/zh/examples/gallery/facet"},"frontmatter":{"title":"分面","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/en/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/zh/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/zh/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/zh/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/en/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/zh/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/zh/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/en/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/zh/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/zh/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/en/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"prev":{"node":{"fields":{"slug":"/en/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10},"html":"<p>图例（legend）是图表的辅助元素，使用颜色、大小、形状区分不同的数据类型，用于图表中数据的筛选。G2 会根据设置图形属性映射以及数据的类型自动生成不同的图例。</p>\n<ul>\n<li>shape, color, size 这三个图形属性如果判断接收的参数是数据源的字段时，会自动生成不同的图例；</li>\n<li>shape 属性，会根据不同的 shape 类型生成图例；</li>\n<li>color 属性，会赋予不同的图例项不同的颜色来区分图形；</li>\n<li>size 属性，在图例上显示图形的大小。</li>\n</ul>\n<p>通过 <code class=\"language-text\">chart.legend([field, ]false)</code> 可以关闭图例。</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*9ayTQLuZGm8AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h2 id=\"如何配置图例\"><a href=\"#%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%9B%BE%E4%BE%8B\" aria-label=\"如何配置图例 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何配置图例</h2>\n<p>调用 <code class=\"language-text\">chart.legend()</code> 进行图例的配置，使用方法如下所示：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">chart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  position<span class=\"token punctuation\">:</span> <span class=\"token string\">'bottom'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 设置图例的显示位置</span>\n  itemGap<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span> <span class=\"token comment\">// 图例项之间的间距</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cut'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 不显示 cut 字段对应的图例</span>\n\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span> <span class=\"token comment\">// 不展示图例 title</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//所有的图例都不显示</span></code></pre></div>\n<h2 id=\"图例整体样式设置\"><a href=\"#%E5%9B%BE%E4%BE%8B%E6%95%B4%E4%BD%93%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE\" aria-label=\"图例整体样式设置 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图例整体样式设置</h2>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">解释</th>\n<th align=\"left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">position</td>\n<td align=\"left\">图例的显示位置，支持 12 个定位位置，配置值 'left-top','left-center','left-bottom','right-top','right-top','right-bottom','top-left','top-center','top-bottom','bottom-left','bottom-center','bottom-right'。也可使用'left'（默认为 left-bottom'),'right'（默认为'right-bottom'),'top'（默认为 top-center'),'bottom'（默认为 bottom-center') 定位。</td>\n<td align=\"left\">'bottom-center'</td>\n</tr>\n<tr>\n<td align=\"left\">title</td>\n<td align=\"left\">用于图例标题的显示样式配置，如果值为 null 则不展示。</td>\n<td align=\"left\">左右两侧图例默认展示标题，上下图例默认不展示标题</td>\n</tr>\n<tr>\n<td align=\"left\">background</td>\n<td align=\"left\">用于图例背景色的配置</td>\n<td align=\"left\">默认没有背景色</td>\n</tr>\n<tr>\n<td align=\"left\">offsetX</td>\n<td align=\"left\">整个图例的水平偏移距离</td>\n<td align=\"left\">--</td>\n</tr>\n<tr>\n<td align=\"left\">offsetY</td>\n<td align=\"left\">整个图例的垂直偏移距离</td>\n<td align=\"left\">--</td>\n</tr>\n<tr>\n<td align=\"left\">width</td>\n<td align=\"left\">图例的整体宽度（用于连续图例）</td>\n<td align=\"left\">20</td>\n</tr>\n<tr>\n<td align=\"left\">height</td>\n<td align=\"left\">图例的整体高度（用于连续图例）</td>\n<td align=\"left\">156</td>\n</tr>\n<tr>\n<td align=\"left\">autoWrap</td>\n<td align=\"left\">图例项过多时是否自动换行（用于分类图例）</td>\n<td align=\"left\">true，自动换行</td>\n</tr>\n<tr>\n<td align=\"left\">marker</td>\n<td align=\"left\">配置图例 marker 的显示样式，支持指定 <code class=\"language-text\">point</code> 几何标记支持的所有 shape（除去 'rect')：'circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down', 'hollowCircle', 'hollowSquare', 'hollowBowtie', 'hollowDiamond', 'hollowHexagon', 'hollowTriangle', 'hollowTriangle-down', 'cross', 'tick', 'plus', 'hyphen', 'line'</td>\n<td align=\"left\">不同的几何标记不同的 marker</td>\n</tr>\n<tr>\n<td align=\"left\">attachLast</td>\n<td align=\"left\">是否启用尾部跟随图例（适用于<code class=\"language-text\">line</code>、<code class=\"language-text\">lineStack</code>、<code class=\"language-text\">area</code>、<code class=\"language-text\">areaStack</code>图表类型）</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\">clickable</td>\n<td align=\"left\">图例项是否可以点击</td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\">hoverable</td>\n<td align=\"left\">是否默认开启鼠标 hover 到图例项上的交互</td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\">selectedMode</td>\n<td align=\"left\">clickable 为 true 时生效，图例的选中模式，单选或者多选</td>\n<td align=\"left\">'multiple' 默认多选</td>\n</tr>\n<tr>\n<td align=\"left\">onHover</td>\n<td align=\"left\">自定义图例项鼠标 hover 事件，hoverable 为 false 不生效</td>\n<td align=\"left\">--</td>\n</tr>\n<tr>\n<td align=\"left\">onClick</td>\n<td align=\"left\">自定义图例项点击事件， clickable 为 false 不生效</td>\n<td align=\"left\">--</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*P-YLRIz37LYAAAAAAAAAAABkARQnAQ\"></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1800'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Africa'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">107</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1900'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Africa'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">133</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 2012'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Africa'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">1052</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1800'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'America'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">31</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1900'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'America'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">156</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 2012'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'America'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">954</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1800'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Asia'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">635</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1900'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Asia'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">947</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 2012'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Asia'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">4250</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1800'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Europe'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">203</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1900'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Europe'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">408</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 2012'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Europe'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">740</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1800'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Oceania'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 1900'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Oceania'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> year<span class=\"token punctuation\">:</span> <span class=\"token string\">'Year 2012'</span><span class=\"token punctuation\">,</span> region<span class=\"token punctuation\">:</span> <span class=\"token string\">'Oceania'</span><span class=\"token punctuation\">,</span> population<span class=\"token punctuation\">:</span> <span class=\"token number\">38</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">G2<span class=\"token punctuation\">.</span>Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'legendMarker'</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token punctuation\">:</span> <span class=\"token number\">600</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">350</span><span class=\"token punctuation\">,</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">,</span> <span class=\"token number\">95</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">coord</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transpose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 不展示图例的标题</span>\n  marker<span class=\"token punctuation\">:</span> <span class=\"token string\">'square'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 设置图例 marker 的显示样式</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart\n  <span class=\"token punctuation\">.</span><span class=\"token function\">intervalDodge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'region*population'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">'year'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">label</span><span class=\"token punctuation\">(</span><span class=\"token string\">'population'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 id=\"各个图例项样式设置\"><a href=\"#%E5%90%84%E4%B8%AA%E5%9B%BE%E4%BE%8B%E9%A1%B9%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE\" aria-label=\"各个图例项样式设置 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>各个图例项样式设置</h2>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*ZzeWRbjP5G0AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">解释</th>\n<th align=\"left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">allowAllCanceled</td>\n<td align=\"left\">（分类图例）是否保留一项不能取消勾选，默认为 false，即最后一项不能取消勾选</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\">unCheckColor</td>\n<td align=\"left\">未选中时 marker 的颜色</td>\n<td align=\"left\">'#bfbfbf'</td>\n</tr>\n<tr>\n<td align=\"left\">textStyle</td>\n<td align=\"left\">图例项文本的样式配置</td>\n<td align=\"left\">{fill: '#3c3c3c'}</td>\n</tr>\n<tr>\n<td align=\"left\">itemWidth</td>\n<td align=\"left\">图例项的宽度，当图例有很多图例项，并且用户想要这些图例项在同一平面内垂直对齐，此时这个属性可帮用户实现此效果</td>\n<td align=\"left\">--</td>\n</tr>\n<tr>\n<td align=\"left\">itemFormatter</td>\n<td align=\"left\">用于格式化图例每项的文本显示，是个回调函数</td>\n<td align=\"left\">--</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"图例的选择模式设置\"><a href=\"#%E5%9B%BE%E4%BE%8B%E7%9A%84%E9%80%89%E6%8B%A9%E6%A8%A1%E5%BC%8F%E8%AE%BE%E7%BD%AE\" aria-label=\"图例的选择模式设置 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图例的选择模式设置</h2>\n<p>在 G2 中，图例分为两种：</p>\n<ol>\n<li>分类图例；</li>\n<li>连续图例。</li>\n</ol>\n<p>对于分类图例的筛选，G2 提供了三种方式：</p>\n<ol>\n<li><code class=\"language-text\">selectedMode: &#39;multiple&#39;</code> 多选，默认配置；</li>\n<li><code class=\"language-text\">selectedMode: &#39;single&#39;</code> 单选；</li>\n<li><code class=\"language-text\">clickable: false</code> 禁用筛选。</li>\n</ol>\n<p>对于连续图例，声明 <code class=\"language-text\">slidable: false</code> 关闭筛选操作，默认开启筛选操作。</p>\n<p>通过如下代码即可进行配置：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 对分类图例进行配置</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selectedMode<span class=\"token punctuation\">:</span> <span class=\"token string\">'single'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*eOg6QoQBF48AAAAAAAAAAABkARQnAQ\"></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名0'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">37</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">9</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名2'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">29</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名8'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">59</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">14</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名9'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名10'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">83</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">14</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名12'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">67</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">21</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名14'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">46</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">18</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名17'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">27</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名19'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">74</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">17</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门1'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名15'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">34</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">19</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门1'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名20'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">25</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门1'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名26'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门1'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名29'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">90</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门2'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名7'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门2'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名11'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">86</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">26</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门2'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名13'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">63</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">16</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门2'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名27'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">76</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门2'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名28'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">28</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名1'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">33</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">16</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名3'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名4'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">43</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">25</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名16'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">45</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名18'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">21</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名22'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">43</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名23'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">38</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名24'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">33</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门3'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名25'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">27</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门4'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名5'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">98</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门4'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名6'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">88</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> 部门<span class=\"token punctuation\">:</span> <span class=\"token string\">'部门4'</span><span class=\"token punctuation\">,</span> 小组<span class=\"token punctuation\">:</span> <span class=\"token string\">'组名21'</span><span class=\"token punctuation\">,</span> 完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span> 未完成人数<span class=\"token punctuation\">:</span> <span class=\"token number\">9</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> DataView <span class=\"token operator\">=</span> DataSet<span class=\"token punctuation\">.</span>DataView<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dv <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DataView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'sort'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">obj1<span class=\"token punctuation\">,</span> obj2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> obj1<span class=\"token punctuation\">[</span><span class=\"token string\">'部门'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> obj2<span class=\"token punctuation\">[</span><span class=\"token string\">'部门'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'map'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">obj</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      obj<span class=\"token punctuation\">[</span><span class=\"token string\">'完成人数'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将完成人数转换成负数</span>\n      <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'fold'</span><span class=\"token punctuation\">,</span>\n    fields<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'完成人数'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'未完成人数'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    key<span class=\"token punctuation\">:</span> <span class=\"token string\">'完成状态'</span><span class=\"token punctuation\">,</span>\n    value<span class=\"token punctuation\">:</span> <span class=\"token string\">'人数'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">G2<span class=\"token punctuation\">.</span>Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span>\n  forceFit<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'部门'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">val</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> val <span class=\"token operator\">===</span> <span class=\"token string\">'部门0'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">coord</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transpose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 关键代码：设置对应图例的选择模式</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'部门'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  selectedMode<span class=\"token punctuation\">:</span> <span class=\"token string\">'single'</span><span class=\"token punctuation\">,</span>\n  position<span class=\"token punctuation\">:</span> <span class=\"token string\">'right-bottom'</span><span class=\"token punctuation\">,</span>\n  hoverable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'完成状态'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">axis</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人数'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  label<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">formatter</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      value <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将负数格式化成正数</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart\n  <span class=\"token punctuation\">.</span><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'小组*人数'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">'部门'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token string\">'完成状态'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'rect'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hollowRect'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    lineWidth<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 id=\"使用-html-渲染图例\"><a href=\"#%E4%BD%BF%E7%94%A8-html-%E6%B8%B2%E6%9F%93%E5%9B%BE%E4%BE%8B\" aria-label=\"使用 html 渲染图例 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 html 渲染图例</h2>\n<p>G2 支持使用 html 渲染图例，方式非常简单，只要声明 <code class=\"language-text\">useHtml: true</code> 即可。</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*yM9ST7j9BfsAAAAAAAAAAABkARQnAQ\"></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">chart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  useHtml<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  containerTpl<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>string<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，默认容器模板不满足要求时使用</span>\n  itemTpl<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>string<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，用户设置的图例项 html 模板，默认提供的模板不满足要求时使用</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js+\"><pre class=\"language-js+\"><code class=\"language-js+\">const data = [\n  { country: &#39;Lithuania&#39;, litres: 501.9 },\n  { country: &#39;Czech Republic&#39;, litres: 301.9 },\n  { country: &#39;Ireland&#39;, litres: 201.1 },\n  { country: &#39;Germany&#39;, litres: 165.8 },\n  { country: &#39;Australia&#39;, litres: 139.9 },\n  { country: &#39;Austria&#39;, litres: 128.3 },\n  { country: &#39;UK&#39;, litres: 99 },\n  { country: &#39;Belgium&#39;, litres: 60 },\n  { country: &#39;The Netherlands&#39;, litres: 50 }\n];\n\nconst ds = new DataSet();\nconst dv = ds.createView()\n  .source(data)\n  .transform({\n    type: &#39;percent&#39;,\n    field: &#39;litres&#39;,\n    dimension: &#39;country&#39;,\n    as: &#39;percent&#39;\n  });\n\nconst chart = new G2.Chart({\n  container: &#39;c2&#39;,\n  width: 500,\n  height: 500,\n  padding: [ 20, 120, 20, 160 ]\n});\nchart.source(dv, {\n  percent: {\n    formatter: val =&gt; {\n      val = (val * 100).toFixed(2) + &#39;%&#39;;\n      return val;\n    }\n  },\n  nice: false\n});\nchart.coord(&#39;theta&#39;, {\n  innerRadius: 0.3,\n  radius: 1\n});\nchart.tooltip({\n  showTitle: false, // 不展示标题\n  itemTpl: &#39;&lt;li data-index={index}&gt;&lt;span style=&quot;color:{color}&quot;&gt;{name}:&lt;/span&gt;{value}&lt;/li&gt;&#39;\n});\nchart.legend({\n  useHtml: true,\n  position: &#39;right&#39;,\n  containerTpl: &#39;&lt;div class=&quot;g2-legend&quot;&gt;&#39; +\n    &#39;&lt;table class=&quot;g2-legend-list&quot; style=&quot;list-style-type:none;margin:0;padding:0;&quot;&gt;&lt;/table&gt;&#39; +\n    &#39;&lt;/div&gt;&#39;,\n  itemTpl: (value, color, checked, index) =&gt; {\n    const obj = dv.rows[index];\n    checked = checked ? &#39;checked&#39; : &#39;unChecked&#39;;\n    return &#39;&lt;tr class=&quot;g2-legend-list-item item-&#39; + index + &#39; &#39; + checked +\n      &#39;&quot; data-value=&quot;&#39; + value + &#39;&quot; data-color=&#39; + color +\n      &#39; style=&quot;cursor: pointer;font-size: 14px;&quot;&gt;&#39; +\n      &#39;&lt;td width=150 style=&quot;border: none;padding:0;&quot;&gt;&lt;i class=&quot;g2-legend-marker&quot; style=&quot;width:10px;height:10px;display:inline-block;margin-right:10px;background-color:&#39; + color + &#39;;&quot;&gt;&lt;/i&gt;&#39; +\n      &#39;&lt;span class=&quot;g2-legend-text&quot;&gt;&#39; + value + &#39;&lt;/span&gt;&lt;/td&gt;&#39; +\n      &#39;&lt;td style=&quot;text-align: right;border: none;padding:0;&quot;&gt;&#39; + obj.litres + &#39;&lt;/td&gt;&#39; +\n      &#39;&lt;/tr&gt;&#39;;\n  },\n  offsetX: 15,\n  &#39;g2-legend&#39;: {\n    marginLeft: &#39;100px&#39;,\n    marginTop: &#39;-107px&#39;\n  },\n  &#39;g2-legend-list&#39;: {\n    border: &#39;none&#39;\n  }\n});\nchart.filter(&#39;country&#39;, val =&gt; {\n  return val !== &#39;UK&#39;;\n});\nchart.intervalStack()\n  .position(&#39;percent&#39;)\n  .color(&#39;country&#39;, [ &#39;#67b7dc&#39;, &#39;#84b761&#39;, &#39;#fdd400&#39;, &#39;#cc4748&#39;, &#39;#cd82ad&#39;, &#39;#2f4074&#39;, &#39;#448e4d&#39;, &#39;#b7b83f&#39;, &#39;#b9783f&#39; ])\n  .label(&#39;percent&#39;, {\n    formatter: (val, item) =&gt; {\n      return item.point.country + &#39;: &#39; + val;\n    }\n  })\n  .style({\n    lineWidth: 2,\n    stroke: &#39;#fff&#39;\n  });\nchart.render();</code></pre></div>\n<h2 id=\"常见问题\"><a href=\"#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\" aria-label=\"常见问题 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>常见问题</h2>\n<ul>\n<li>\n<ol>\n<li>隐藏图例</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">chart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 隐藏全部图例</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 只隐藏 x 维度对应的图例</span>\n</code></pre></div>\n<ul>\n<li>\n<ol start=\"2\">\n<li>更改图例位置</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">chart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  position<span class=\"token punctuation\">:</span> <span class=\"token string\">'bottom'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 只更改 x 维度对应的图例的显示位置</span>\n</code></pre></div>\n<ul>\n<li>\n<ol start=\"3\">\n<li>图例显示位置不够</li>\n</ol>\n</li>\n</ul>\n<p>调整 padding 值（padding 的介绍详见<a href=\"/zh/docs/manual/tutorial/creating-chart/#%E5%9B%BE%E8%A1%A8%E6%A0%B7%E5%BC%8F\">创建图表之图表样式</a>）。</p>"}},"next":{"node":{"fields":{"slug":"/en/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18},"html":"<p><strong>提示</strong>：Slider 滑块插件已经不再维护，请使用 [<code class=\"language-text\">chart.interaction(&#39;slider&#39;)</code>](/zh/docs/manual/api/interaction/#slider- 滑块） 接口。</p>\n<hr>\n<p>用于数据范围的选择插件，尤其适用于大数据量的图表绘制，帮助用户更好地关注某一范围的数据可视化结果。</p>\n<p>如下图所示：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*FM0BR5rBJ90AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h2 id=\"slider-工作原理\"><a href=\"#slider-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\" aria-label=\"slider 工作原理 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slider 工作原理</h2>\n<p>Slider 组件是完全基于数据的交互组件，同 chart 并无任何关联，无论是你的滑动条想要操纵多少个 chart 或者 view 都没有关系。其滑动时与图表的联动行为，需要同 <a href=\"/zh/docs/manual/tutorial/data-set\">DataSet</a> 中的状态量相结合，通过定义每个 Slider 对象的 <code class=\"language-text\">onChange</code> 回调函数，在其中动态更新 DataSet 的状态量来实现数据过滤，下面会通过具体的例子来详细说明，但是首先我们需要了解如何引入 Slider 组件。</p>\n<h2 id=\"如何使用-slider-组件\"><a href=\"#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-slider-%E7%BB%84%E4%BB%B6\" aria-label=\"如何使用 slider 组件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何使用 Slider 组件</h2>\n<h3 id=\"引入-slider-组件\"><a href=\"#%E5%BC%95%E5%85%A5-slider-%E7%BB%84%E4%BB%B6\" aria-label=\"引入 slider 组件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>引入 Slider 组件</h3>\n<p>有两种引入 Slider 组件的方式：</p>\n<p>（1）方式 1： 通过使用 <code class=\"language-text\">&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code> 标签引入。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 引入 Slider 组件脚本 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url['g2-plugin-slider'] }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>（2）方式 2：npm 模块引入。</p>\n<p>首先需要安装 Slider 模块：<code class=\"language-text\">npm install @antv/g2-plugin-slider</code>，然后按照如下代码引入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token constant\">G2</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/g2'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'@antv/g2-plugin-slider'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>! 注意：Slider 组件作为 G2 的交互插件，必须在 G2 引入的前提下使用哦。</p>\n</blockquote>\n<h3 id=\"创建-slider-的-dom-容器\"><a href=\"#%E5%88%9B%E5%BB%BA-slider-%E7%9A%84-dom-%E5%AE%B9%E5%99%A8\" aria-label=\"创建 slider 的 dom 容器 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建 Slider 的 dom 容器</h3>\n<p>然后还需要创建一个展示 Slider 插件的 DOM 容器，如：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>slider<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"创建-slider-组件对象并渲染\"><a href=\"#%E5%88%9B%E5%BB%BA-slider-%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%B9%B6%E6%B8%B2%E6%9F%93\" aria-label=\"创建 slider 组件对象并渲染 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建 Slider 组件对象并渲染</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 创建 Slider</span>\n<span class=\"token keyword\">const</span> slider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Slider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'slider'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// dom 容器 id 或者 dom 容器对象</span>\n  width<span class=\"token punctuation\">:</span> <span class=\"token number\">600</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的宽度，默认为 'auto'，即自适应宽度</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的高度，默认为 '26px'</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 所在画布 canvas 的内边距，用于对齐图表，默认与图表默认的 padding 相同</span>\n  start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2015-04-07'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 和状态量对应，滑块的起始点数值，如果是时间类型，建议将其转换为时间戳，方便数据过滤</span>\n  end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2015-08-01'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 和状态量对应，滑块的结束点数值，如果是时间类型，建议将其转换为时间戳，方便数据过滤</span>\n  minSpan<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，用于设置滑块的最小范围，时间类型的数值必须使用时间戳，这里设置最小范围为 30 天</span>\n  maxSpan<span class=\"token punctuation\">:</span> <span class=\"token number\">120</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，用于设置滑块的最大范围，时间类型的数值必须使用时间戳，这里设置最大范围为 120 天</span>\n  data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的数据源</span>\n  xAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'time'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 背景图的横轴对应字段，同时为数据筛选的字段</span>\n  yAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'volumn'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 背景图的纵轴对应字段</span>\n  <span class=\"token function-variable function\">onChange</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> startValue<span class=\"token punctuation\">,</span> endValue <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span> startValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> endValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 更新数据状态量的回调函数</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nslider<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 渲染</span></code></pre></div>\n<h2 id=\"快速上手\"><a href=\"#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B\" aria-label=\"快速上手 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>快速上手</h2>\n<blockquote>\n<p>说明：重要并且必须声明的步骤，我在代码中使用 <code class=\"language-text\">// !!!</code> 这种格式的注释标注。</p>\n</blockquote>\n<p>当用户没有设置 <code class=\"language-text\">start</code> <code class=\"language-text\">end</code> 两个参数时（即数据的选择范围），slider 会使用默认的选择范围，即展示全部数据。</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*NePWS6ARhj8AAAAAAAAAAABkARQnAQ\"></p>\n<p>完整的代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">$<span class=\"token punctuation\">.</span><span class=\"token function\">getJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/assets/data/peking-aqi.json'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// !!! 创建 DataSet，并设置状态量 start end</span>\n  <span class=\"token keyword\">const</span> ds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DataSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    state<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2004-01-01'</span><span class=\"token punctuation\">,</span>\n      end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2007-09-24'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// !!! 通过 ds 创建 DataView</span>\n  <span class=\"token keyword\">const</span> dv <span class=\"token operator\">=</span> ds<span class=\"token punctuation\">.</span><span class=\"token function\">createView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// !!! 根据状态量设置数据过滤规则，</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'filter'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">obj</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">.</span>date <span class=\"token operator\">&lt;=</span> ds<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>end <span class=\"token operator\">&amp;&amp;</span> obj<span class=\"token punctuation\">.</span>date <span class=\"token operator\">>=</span> ds<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">G2<span class=\"token punctuation\">.</span>Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span>\n    forceFit<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n    animate<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  chart<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    date<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'time'</span><span class=\"token punctuation\">,</span>\n      mask<span class=\"token punctuation\">:</span> <span class=\"token string\">'MM-DD'</span><span class=\"token punctuation\">,</span>\n      alias<span class=\"token punctuation\">:</span> <span class=\"token string\">'日期'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> view1 <span class=\"token operator\">=</span> chart<span class=\"token punctuation\">.</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0.45</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  view1<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// !!! 注意数据源是 ds 创建 DataView 对象</span>\n  view1<span class=\"token punctuation\">.</span><span class=\"token function\">line</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date*aqi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> view2 <span class=\"token operator\">=</span> chart<span class=\"token punctuation\">.</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0.55</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  view2<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// !!! 注意数据源是 ds 创建 DataView 对象</span>\n  view2<span class=\"token punctuation\">.</span><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date*aqi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  chart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// !!! 创建 slider 对象</span>\n  <span class=\"token keyword\">const</span> slider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Slider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    container<span class=\"token punctuation\">:</span> <span class=\"token string\">'slider'</span><span class=\"token punctuation\">,</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2004-01-01'</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2007-09-24'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token punctuation\">,</span> <span class=\"token comment\">// !!! 注意是原始数据，不要传入 dv</span>\n    xAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'date'</span><span class=\"token punctuation\">,</span>\n    yAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'aqi'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">onChange</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> startText<span class=\"token punctuation\">,</span> endText <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// !!! 更新状态量</span>\n      ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span> startText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> endText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  slider<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}}}}}