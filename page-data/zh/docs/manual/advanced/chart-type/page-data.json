{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-0-9-100-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/zh/docs/manual/advanced/chart-type","result":{"data":{"site":{"siteMetadata":{"title":"G2","githubUrl":"https://github.com/antvis/g2","docs":[{"slug":"manual/getting-started","title":{"zh":"快速开始","en":"Getting Started"},"order":0},{"slug":"manual/tutorial","title":{"zh":"使用教程","en":"Tutorial"},"order":1},{"slug":"manual/advanced","title":{"zh":"高级教程","en":"Advanced"},"order":2},{"slug":"manual/faq","title":{"zh":"G2 常见问题","en":"FAQ"},"order":3}]},"pathPrefix":""},"markdownRemark":{"html":"<p>数据可视化的核心在于可视化编码，而可视化编码由几何标记和视觉通道组成。在可视化设计中我们将常见的几何标记定义成图表类型。\n根据几何标记可以代表的数据维度来划分，几何标记分为：</p>\n<ul>\n<li>零维，点是常见的零维几何标记，点仅有位置信息</li>\n<li>一维，常见的一维几何标记有线</li>\n<li>二维，二维平面</li>\n<li>三维，常见的立方体、圆柱体都是三维的几何标记</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*_3t-QoR9d9kAAAAAAAAAAABkARQnAQ\"></p>\n<h2 id=\"几何标记自由度\"><a href=\"#%E5%87%A0%E4%BD%95%E6%A0%87%E8%AE%B0%E8%87%AA%E7%94%B1%E5%BA%A6\" aria-label=\"几何标记自由度 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>几何标记自由度</h2>\n<p>前面我们介绍过坐标系，坐标系代表了图形所在的空间维度，而图形空间的自由度是在不改变图形性质的基础下可以自由扩展的维度，自由度 = 空间维度 - 几何标记的维度，那么：</p>\n<ul>\n<li>点在二维空间内的自由度是 2，就是说可以沿 x 轴、y 轴方向进行扩展</li>\n<li>线在二维空间内的自由度是 1，也就说线仅能增加宽度，而无法增加长度</li>\n<li>面在二维空间内的自由度是 0，我们以一个多边形为示例，在不改变代表多边形的数据前提下，我们无法增加多边形的宽度或则高度</li>\n<li>面在三维空间的自由度是 1，我们可以更改面的厚度</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*Kh1LTbX5WHsAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>几何标记的自由度与数据能够映射到图形的视觉通道 size（大小）相关，这个角度上来讲：</p>\n<ul>\n<li>点可以映射两个数据字段字段到点的大小上（当然现实中我们仅仅映射一个）</li>\n<li>线可以映射一个数据字段字段到线的宽度</li>\n<li>柱状图的矩形可以映射一个数据字段到宽度上</li>\n<li>封闭的多边形无法使用数据映射到大小</li>\n</ul>\n<h2 id=\"图表类型\"><a href=\"#%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B\" aria-label=\"图表类型 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图表类型</h2>\n<p>我们根据图形本身的维度和其自由度将几何标记在可视化框架中的实现进行了分类：</p>\n<ul>\n<li>point（点图）, 虽然点的自由度是 2，但是我们一般只映射一个字段到点的 size 上，x 轴和 y 轴方向同时扩展大小；</li>\n<li>path（路径图）、line（线图），x 轴方向上无序的的线是 path,x 轴方向有序的线是线图，线图又分为折线图和曲线图；</li>\n<li>area（区域图），填充折线和 x 轴闭合的区域，构建成为区域图，区域图是二维的，其自由度是 0，无法进行 size 的扩展；</li>\n<li>interval（区间图）、常见的柱状图、玫瑰图、饼图都是区间图，其图形是以 y 轴方向的长度表示数据的大小，x 轴方形可以自由扩展，其自由度是 1；</li>\n<li>polygon（多边形），多个点构建的封闭的多边形，自由度是 0，无法进行 size 的扩展；</li>\n<li>heatmap（热力图）, 热力图使用颜色来代表数据分布，绘制的过程根据数据点在画布上的影响范围进行颜色的设置，其自由度是 2，但是我们往往只指定一个常量字段，指定点的影响范围；</li>\n<li>schema （自定义），无法被上面覆盖的几何标记都放到这个分类下，常见的 k 线图，箱型图，其自由度与其表达的数据相关。</li>\n</ul>\n<h2 id=\"图表类型和图形形状\"><a href=\"#%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%9B%BE%E5%BD%A2%E5%BD%A2%E7%8A%B6\" aria-label=\"图表类型和图形形状 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图表类型和图形形状</h2>\n<p>我们说图表类型是几何标记在可视化框架中的一种实现方式，这是一种非常粗粒度的划分，对于每一种图表类型来说，图形在绘制的时候有不同的形状，视觉通道跟图形属性的映射方式不一样也会生成不同的图形：</p>\n<ul>\n<li>点图，可以使用圆点、三角形、正方形、十字符号等表示点</li>\n<li>线图，可以有折线、曲线、点线等</li>\n<li>多边形，可以是实心的多边形，也可以是空心的仅有边框的多边形</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*c_RtTbGrFfsAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>这就产生了我们在前面提到的视觉通道中 Shape（图形形状），图形形状决定了各个视觉通道和图形属性的映射，使用边框颜色还是填充颜色、使用点线还是实线，使用平滑线还是折线，都是由图形形状 Shape 决定的。</p>\n<p>Shape 是 G2 中最灵活、内容最丰富的模块，下图是各个图表的 shape 实现：</p>\n<div class=\"bi-table\">\n  <table>\n    <colgroup>\n      <col width=\"auto\" />\n      <col width=\"auto\" />\n      <col width=\"auto\" />\n    </colgroup>\n    <tbody>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom 类型</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">shape 类型</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">解释</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">point</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;circle&#x27;,&#x27;square&#x27;,&#x27;bowtie&#x27;,&#x27;diamond&#x27;,&#x27;hexagon&#x27;,&#x27;triangle&#x27;,&#x27;triangle-down&#x27;, &#x27;hollowCircle&#x27;,&#x27;hollowSquare&#x27;,&#x27;hollowBowtie&#x27;,&#x27;hollowDiamond&#x27;,\n            &#x27;hollowHexagon&#x27;,&#x27;hollowTriangle&#x27;,&#x27;hollowTriangle-down&#x27;, &#x27;cross&#x27;,&#x27;tick&#x27;,&#x27;plus&#x27;,&#x27;hyphen&#x27;,&#x27;line&#x27;\n          </div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">hollow开头的图形都是空心的</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">line</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;line&#x27;,&#x27;smooth&#x27;,&#x27;dot&#x27;,&#x27;dash&#x27;,&#x27;dotSmooth&#x27;,&#x27;spline&#x27;</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">dot ：点线，smooth： 平滑线</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">area</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;area&#x27;,&#x27;smooth&#x27;,&#x27;line&#x27;,&#x27;dotLine&#x27;,&#x27;smoothLine&#x27;,&#x27;dotSmoothLine&#x27;</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">[area]和[smooth]是填充内容的区域图，其他图表是空心的线图</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">interval</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;rect&#x27;,&#x27;hollowRect&#x27;,&#x27;line&#x27;,&#x27;tick&#x27;,&#x27;stroke&#x27;</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">[hollowRect]是空心的矩形， [line]和 [tick] 都是线段,stroke：带边框的矩形</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">polygon</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;polygon&#x27;,&#x27;hollow&#x27;,&#x27;stroke&#x27;</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">polygon：多边形、hollow：空心多边形和 stroke：带边框的多边形</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">schema</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">&#x27;box&#x27;,&#x27;candle&#x27;</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">目前仅支持箱须图、K线图</div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<h2 id=\"如何设计-shape\"><a href=\"#%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1-shape\" aria-label=\"如何设计 shape permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何设计 Shape</h2>\n<p>对于每个 Shape 的实现，我们需要确定以下内容：</p>\n<ul>\n<li>支持的视觉通道</li>\n<li>映射到各个视觉通道的数据格式</li>\n<li>图形对应的数据条数</li>\n<li>图形的点的个数</li>\n</ul>\n<h3 id=\"支持的视觉通道\"><a href=\"#%E6%94%AF%E6%8C%81%E7%9A%84%E8%A7%86%E8%A7%89%E9%80%9A%E9%81%93\" aria-label=\"支持的视觉通道 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>支持的视觉通道</h3>\n<p>不同的 Shape 支持的视觉通道不同，以 G2 实现的视觉通道为例：</p>\n<ul>\n<li>position（位置），所有的图表类型的 Shape 都支持这个属性</li>\n<li>color（颜色）， 所有的图表类型的 Shape 都支持这个属性，但是映射到图形的边框还是填充图形，由各个 Shape 自己决定</li>\n<li>size（大小），由上面介绍的几何标记的自由度决定</li>\n<li>opacity（透明度），跟颜色类似</li>\n</ul>\n<h3 id=\"接收的数据格式\"><a href=\"#%E6%8E%A5%E6%94%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F\" aria-label=\"接收的数据格式 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>接收的数据格式</h3>\n<p>对于 G2 来说，接收的数据都是标准的 JSON 数组，单条数据字段的格式支持 2 种类型：</p>\n<ul>\n<li>数值、字符串等标量值</li>\n<li>数组，多个标量值构成的数组</li>\n</ul>\n<p>所以对于一个 Shape 来说需要定义好各个视觉通道支持的数据字段格式，下面的示例说明这个问题</p>\n<h4 id=\"柱状图\"><a href=\"#%E6%9F%B1%E7%8A%B6%E5%9B%BE\" aria-label=\"柱状图 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>柱状图</h4>\n<p>柱状图是图表类型 interval 的一个 Shape ‘rect’ 定义的，各个视觉通道支持的数据格式：</p>\n<ul>\n<li>\n<p>position 支持 3 种数据类型：</p>\n<ul>\n<li>x，y 都是单个标量值，如 {name: '分类一',value: 100}</li>\n<li>x 是单个标量值，y 是一个数组 ，如 {name: '分类一',range: [10, 100]}</li>\n<li>x 是数组，y 是单个标量值，例如学生成绩分布 {score: [70, 80],count: 90}</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*tRfUS7q3FysAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>color 仅支持一个标量值字段</li>\n<li>size 仅支持数字标量值</li>\n<li>opacity 支持数字标量值，范围 0-1</li>\n</ul>\n<p>各个图形对数据格式的支持，我们在后面章节中一一介绍。</p>\n<h3 id=\"需要的数据条数\"><a href=\"#%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9D%A1%E6%95%B0\" aria-label=\"需要的数据条数 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>需要的数据条数</h3>\n<p>数据映射到图形时，数据跟图形的对应关系对于不同的图表类型（数据标记）来说各不相同：</p>\n<ul>\n<li>\n<p>point（点图）， 点图的数据条数和图形的对应关系，可以是 1：1, 也可以是 1:n。如果对应位置的映射字段 x,y 都是单个标量，那么就是 1：1, 如果 y 是数组，那么就是 1:n。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 1: 1的数据</span>\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'一月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'二月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">15</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 1: 2的数据</span>\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'一月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'二月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*_XEvTKmX7TgAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>line（线图）和 path（路径图），如果对应位置的映射字段 x,y 都是单个标量多条记录对应一条线，对应关系是 n:1。如果 y 是数组，那么会生成多条记录对应关系是 n: n。同上面 point 的数据：</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*IMrwQLq9WBwAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>interval 一条记录生成一个图形，1:1</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*_ZKNR4GG2gwAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>area（区域图）， 多条数据生成一个图形，无论对应位置的对应字段的格式如何</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*MdmmTIinKmEAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>polygon，一条数据对应一个图形，1: 1。</li>\n<li>heatmap，多条记录生成一张图 n: 1</li>\n<li>contour, 多条记录生成多条等高线 m: n</li>\n</ul>\n<h3 id=\"需要的点的个数\"><a href=\"#%E9%9C%80%E8%A6%81%E7%9A%84%E7%82%B9%E7%9A%84%E4%B8%AA%E6%95%B0\" aria-label=\"需要的点的个数 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>需要的点的个数</h3>\n<p>绘制图形时，需要根据当前的数据生成图形的点，然后使用线或者弧连接起来，不同的图形需要点的个数不同：</p>\n<ul>\n<li>point，点图绘制时只需要一个点即可</li>\n<li>line,path，绘制折线图 / 路径图时需要折线图上的多个点</li>\n<li>area，绘制区域图时，需要代表数据的点与 x 轴上点</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*eQ5kR5D8Az0AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>interval, 绘制柱状图、玫瑰图、饼图时，需要知道四个顶点</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*wvPWSbUE9WYAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>polygon，绘制多边形时，每个顶点都需要一个点</li>\n<li>heatmap，绘制热力图时需要多个点</li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E5%87%A0%E4%BD%95%E6%A0%87%E8%AE%B0%E8%87%AA%E7%94%B1%E5%BA%A6\">几何标记自由度</a></li>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B\">图表类型</a></li>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%9B%BE%E5%BD%A2%E5%BD%A2%E7%8A%B6\">图表类型和图形形状</a></li>\n<li>\n<p><a href=\"/zh/docs/manual/advanced/chart-type/#%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1-shape\">如何设计 Shape</a></p>\n<ul>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E6%94%AF%E6%8C%81%E7%9A%84%E8%A7%86%E8%A7%89%E9%80%9A%E9%81%93\">支持的视觉通道</a></li>\n<li>\n<p><a href=\"/zh/docs/manual/advanced/chart-type/#%E6%8E%A5%E6%94%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F\">接收的数据格式</a></p>\n<ul>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E6%9F%B1%E7%8A%B6%E5%9B%BE\">柱状图</a></li>\n</ul>\n</li>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9D%A1%E6%95%B0\">需要的数据条数</a></li>\n<li><a href=\"/zh/docs/manual/advanced/chart-type/#%E9%9C%80%E8%A6%81%E7%9A%84%E7%82%B9%E7%9A%84%E4%B8%AA%E6%95%B0\">需要的点的个数</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/zh/docs/manual/advanced/chart-type","readingTime":{"text":"3 min read","time":154800}},"frontmatter":{"title":"图表类型"},"parent":{"__typename":"File","relativePath":"manual/advanced/chart-type.zh.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/en/examples/radar/radar"},"frontmatter":{"title":"Radar Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/relation/relation"},"frontmatter":{"title":"Graph","order":0}}},{"node":{"fields":{"slug":"/zh/examples/radar/radar"},"frontmatter":{"title":"雷达图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/relation/relation"},"frontmatter":{"title":"关系图","order":0}}},{"node":{"fields":{"slug":"/en/examples/point/scatter"},"frontmatter":{"title":"Scatter Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/point/scatter"},"frontmatter":{"title":"散点图","order":0}}},{"node":{"fields":{"slug":"/en/examples/other/other"},"frontmatter":{"title":"Others","order":0}}},{"node":{"fields":{"slug":"/zh/examples/other/other"},"frontmatter":{"title":"其他图表","order":0}}},{"node":{"fields":{"slug":"/en/examples/pie/basic"},"frontmatter":{"title":"Basic Pie Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/pie/basic"},"frontmatter":{"title":"基础饼图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/map/map"},"frontmatter":{"title":"地图","order":0}}},{"node":{"fields":{"slug":"/en/examples/map/map"},"frontmatter":{"title":"Map","order":0}}},{"node":{"fields":{"slug":"/en/examples/line/basic"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/gauge/gauge"},"frontmatter":{"title":"Gauge","order":0}}},{"node":{"fields":{"slug":"/zh/examples/line/basic"},"frontmatter":{"title":"基础折线图","order":0}}},{"node":{"fields":{"slug":"/en/examples/heatmap/heatmap"},"frontmatter":{"title":"Heatmap","order":0}}},{"node":{"fields":{"slug":"/zh/examples/heatmap/heatmap"},"frontmatter":{"title":"热力图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gauge/gauge"},"frontmatter":{"title":"仪表盘","order":0}}},{"node":{"fields":{"slug":"/en/examples/gallery/line"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/funnel/funnel"},"frontmatter":{"title":"Funnel Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gallery/line"},"frontmatter":{"title":"折线图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/funnel/funnel"},"frontmatter":{"title":"漏斗图","order":0}}},{"node":{"fields":{"slug":"/en/examples/facet/facet"},"frontmatter":{"title":"Facet","order":0}}},{"node":{"fields":{"slug":"/zh/examples/facet/facet"},"frontmatter":{"title":"分面","order":0}}},{"node":{"fields":{"slug":"/en/examples/component/component"},"frontmatter":{"title":"Chart Components","order":0}}},{"node":{"fields":{"slug":"/zh/examples/component/component"},"frontmatter":{"title":"图表组件","order":0}}},{"node":{"fields":{"slug":"/zh/examples/candlestick/demo"},"frontmatter":{"title":"烛形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/candlestick/demo"},"frontmatter":{"title":"K Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/column/basic"},"frontmatter":{"title":"Basic Column Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/column/basic"},"frontmatter":{"title":"基础柱状图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/box/box"},"frontmatter":{"title":"箱型图","order":0}}},{"node":{"fields":{"slug":"/en/examples/box/box"},"frontmatter":{"title":"Box Chart","order":0}}},{"node":{"fields":{"slug":"/en/examples/bar/basic"},"frontmatter":{"title":"Basic Bar Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/bar/basic"},"frontmatter":{"title":"基础条形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/area/basic"},"frontmatter":{"title":"Area Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/area/basic"},"frontmatter":{"title":"面积图","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/zh/examples/pie/donut"},"frontmatter":{"title":"环图","order":1}}},{"node":{"fields":{"slug":"/en/examples/pie/donut"},"frontmatter":{"title":"Donut Chart","order":1}}},{"node":{"fields":{"slug":"/en/examples/line/double"},"frontmatter":{"title":"Double Line Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/line/double"},"frontmatter":{"title":"双折线图","order":1}}},{"node":{"fields":{"slug":"/en/examples/gallery/column"},"frontmatter":{"title":"Column Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/gallery/column"},"frontmatter":{"title":"柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/column/dodge"},"frontmatter":{"title":"Grouped Column Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/column/dodge"},"frontmatter":{"title":"分组柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/bar/dodge"},"frontmatter":{"title":"Grouped Bar Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/bar/dodge"},"frontmatter":{"title":"分组条形图","order":1}}},{"node":{"fields":{"slug":"/en/examples/area/stacked"},"frontmatter":{"title":"Stacked Area Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/area/stacked"},"frontmatter":{"title":"堆叠面积图","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/zh/examples/pie/rose"},"frontmatter":{"title":"南丁格尔玫瑰图","order":2}}},{"node":{"fields":{"slug":"/en/examples/pie/rose"},"frontmatter":{"title":"Nightingale Rose Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/line/multiple"},"frontmatter":{"title":"多折线图","order":2}}},{"node":{"fields":{"slug":"/en/examples/line/multiple"},"frontmatter":{"title":"multiple line chart","order":2}}},{"node":{"fields":{"slug":"/en/examples/gallery/bar"},"frontmatter":{"title":"Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/gallery/bar"},"frontmatter":{"title":"条形图","order":2}}},{"node":{"fields":{"slug":"/en/examples/column/stack"},"frontmatter":{"title":"Stacked Column Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/column/stack"},"frontmatter":{"title":"堆叠柱状图","order":2}}},{"node":{"fields":{"slug":"/en/examples/bar/stack"},"frontmatter":{"title":"Stacked Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/bar/stack"},"frontmatter":{"title":"堆叠条形图","order":2}}},{"node":{"fields":{"slug":"/en/examples/area/range"},"frontmatter":{"title":"Range Area Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/area/range"},"frontmatter":{"title":"区间面积图","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/en/examples/pie/nested"},"frontmatter":{"title":"Nested Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/pie/nested"},"frontmatter":{"title":"嵌套饼图","order":3}}},{"node":{"fields":{"slug":"/en/examples/line/step"},"frontmatter":{"title":"Step Line Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/line/step"},"frontmatter":{"title":"阶梯折线图","order":3}}},{"node":{"fields":{"slug":"/en/examples/gallery/pie"},"frontmatter":{"title":"Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/gallery/pie"},"frontmatter":{"title":"饼图","order":3}}},{"node":{"fields":{"slug":"/zh/examples/column/histogram"},"frontmatter":{"title":"直方图","order":3}}},{"node":{"fields":{"slug":"/en/examples/column/histogram"},"frontmatter":{"title":"Histogram","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/examples/gallery/area"},"frontmatter":{"title":"Area Chart","order":4}}},{"node":{"fields":{"slug":"/zh/examples/gallery/area"},"frontmatter":{"title":"面积图","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/en/examples/gallery/gauge"},"frontmatter":{"title":"Gauge","order":5}}},{"node":{"fields":{"slug":"/zh/examples/gallery/gauge"},"frontmatter":{"title":"仪表盘","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/examples/gallery/facet"},"frontmatter":{"title":"Facet","order":6}}},{"node":{"fields":{"slug":"/zh/examples/gallery/facet"},"frontmatter":{"title":"分面","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/en/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/zh/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/zh/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/zh/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/zh/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/en/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/zh/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/en/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/zh/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/en/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/zh/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"prev":{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18},"html":"<p><strong>提示</strong>：Slider 滑块插件已经不再维护，请使用 [<code class=\"language-text\">chart.interaction(&#39;slider&#39;)</code>](/zh/docs/api/interaction/#slider- 滑块） 接口。</p>\n<hr>\n<p>用于数据范围的选择插件，尤其适用于大数据量的图表绘制，帮助用户更好地关注某一范围的数据可视化结果。</p>\n<p>如下图所示：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*FM0BR5rBJ90AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h2 id=\"slider-工作原理\"><a href=\"#slider-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\" aria-label=\"slider 工作原理 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slider 工作原理</h2>\n<p>Slider 组件是完全基于数据的交互组件，同 chart 并无任何关联，无论是你的滑动条想要操纵多少个 chart 或者 view 都没有关系。其滑动时与图表的联动行为，需要同 <a href=\"/zh/docs/manual/tutorial/data-set\">DataSet</a> 中的状态量相结合，通过定义每个 Slider 对象的 <code class=\"language-text\">onChange</code> 回调函数，在其中动态更新 DataSet 的状态量来实现数据过滤，下面会通过具体的例子来详细说明，但是首先我们需要了解如何引入 Slider 组件。</p>\n<h2 id=\"如何使用-slider-组件\"><a href=\"#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-slider-%E7%BB%84%E4%BB%B6\" aria-label=\"如何使用 slider 组件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何使用 Slider 组件</h2>\n<h3 id=\"引入-slider-组件\"><a href=\"#%E5%BC%95%E5%85%A5-slider-%E7%BB%84%E4%BB%B6\" aria-label=\"引入 slider 组件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>引入 Slider 组件</h3>\n<p>有两种引入 Slider 组件的方式：</p>\n<p>（1）方式 1： 通过使用 <code class=\"language-text\">&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code> 标签引入。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 引入 Slider 组件脚本 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url['g2-plugin-slider'] }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>（2）方式 2：npm 模块引入。</p>\n<p>首先需要安装 Slider 模块：<code class=\"language-text\">npm install @antv/g2-plugin-slider</code>，然后按照如下代码引入</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token constant\">G2</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/g2'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'@antv/g2-plugin-slider'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>! 注意：Slider 组件作为 G2 的交互插件，必须在 G2 引入的前提下使用哦。</p>\n</blockquote>\n<h3 id=\"创建-slider-的-dom-容器\"><a href=\"#%E5%88%9B%E5%BB%BA-slider-%E7%9A%84-dom-%E5%AE%B9%E5%99%A8\" aria-label=\"创建 slider 的 dom 容器 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建 Slider 的 dom 容器</h3>\n<p>然后还需要创建一个展示 Slider 插件的 DOM 容器，如：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>slider<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"创建-slider-组件对象并渲染\"><a href=\"#%E5%88%9B%E5%BB%BA-slider-%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%B9%B6%E6%B8%B2%E6%9F%93\" aria-label=\"创建 slider 组件对象并渲染 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建 Slider 组件对象并渲染</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 创建 Slider</span>\n<span class=\"token keyword\">const</span> slider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Slider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'slider'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// dom 容器 id 或者 dom 容器对象</span>\n  width<span class=\"token punctuation\">:</span> <span class=\"token number\">600</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的宽度，默认为 'auto'，即自适应宽度</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的高度，默认为 '26px'</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 所在画布 canvas 的内边距，用于对齐图表，默认与图表默认的 padding 相同</span>\n  start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2015-04-07'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 和状态量对应，滑块的起始点数值，如果是时间类型，建议将其转换为时间戳，方便数据过滤</span>\n  end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2015-08-01'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 和状态量对应，滑块的结束点数值，如果是时间类型，建议将其转换为时间戳，方便数据过滤</span>\n  minSpan<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，用于设置滑块的最小范围，时间类型的数值必须使用时间戳，这里设置最小范围为 30 天</span>\n  maxSpan<span class=\"token punctuation\">:</span> <span class=\"token number\">120</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选，用于设置滑块的最大范围，时间类型的数值必须使用时间戳，这里设置最大范围为 120 天</span>\n  data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// slider 的数据源</span>\n  xAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'time'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 背景图的横轴对应字段，同时为数据筛选的字段</span>\n  yAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'volumn'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 背景图的纵轴对应字段</span>\n  <span class=\"token function-variable function\">onChange</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> startValue<span class=\"token punctuation\">,</span> endValue <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span> startValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> endValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 更新数据状态量的回调函数</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nslider<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 渲染</span></code></pre></div>\n<h2 id=\"快速上手\"><a href=\"#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B\" aria-label=\"快速上手 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>快速上手</h2>\n<blockquote>\n<p>说明：重要并且必须声明的步骤，我在代码中使用 <code class=\"language-text\">// !!!</code> 这种格式的注释标注。</p>\n</blockquote>\n<p>当用户没有设置 <code class=\"language-text\">start</code> <code class=\"language-text\">end</code> 两个参数时（即数据的选择范围），slider 会使用默认的选择范围，即展示全部数据。</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*NePWS6ARhj8AAAAAAAAAAABkARQnAQ\"></p>\n<p>完整的代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">$<span class=\"token punctuation\">.</span><span class=\"token function\">getJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/assets/data/peking-aqi.json'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// !!! 创建 DataSet，并设置状态量 start end</span>\n  <span class=\"token keyword\">const</span> ds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DataSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    state<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2004-01-01'</span><span class=\"token punctuation\">,</span>\n      end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2007-09-24'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// !!! 通过 ds 创建 DataView</span>\n  <span class=\"token keyword\">const</span> dv <span class=\"token operator\">=</span> ds<span class=\"token punctuation\">.</span><span class=\"token function\">createView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// !!! 根据状态量设置数据过滤规则，</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'filter'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">obj</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">.</span>date <span class=\"token operator\">&lt;=</span> ds<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>end <span class=\"token operator\">&amp;&amp;</span> obj<span class=\"token punctuation\">.</span>date <span class=\"token operator\">>=</span> ds<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">G2<span class=\"token punctuation\">.</span>Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span>\n    forceFit<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n    animate<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  chart<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    date<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'time'</span><span class=\"token punctuation\">,</span>\n      mask<span class=\"token punctuation\">:</span> <span class=\"token string\">'MM-DD'</span><span class=\"token punctuation\">,</span>\n      alias<span class=\"token punctuation\">:</span> <span class=\"token string\">'日期'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> view1 <span class=\"token operator\">=</span> chart<span class=\"token punctuation\">.</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0.45</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  view1<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// !!! 注意数据源是 ds 创建 DataView 对象</span>\n  view1<span class=\"token punctuation\">.</span><span class=\"token function\">line</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date*aqi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> view2 <span class=\"token operator\">=</span> chart<span class=\"token punctuation\">.</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">0.55</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      x<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      y<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  view2<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// !!! 注意数据源是 ds 创建 DataView 对象</span>\n  view2<span class=\"token punctuation\">.</span><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date*aqi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  chart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// !!! 创建 slider 对象</span>\n  <span class=\"token keyword\">const</span> slider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Slider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    container<span class=\"token punctuation\">:</span> <span class=\"token string\">'slider'</span><span class=\"token punctuation\">,</span>\n    start<span class=\"token punctuation\">:</span> <span class=\"token string\">'2004-01-01'</span><span class=\"token punctuation\">,</span>\n    end<span class=\"token punctuation\">:</span> <span class=\"token string\">'2007-09-24'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token punctuation\">,</span> <span class=\"token comment\">// !!! 注意是原始数据，不要传入 dv</span>\n    xAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'date'</span><span class=\"token punctuation\">,</span>\n    yAxis<span class=\"token punctuation\">:</span> <span class=\"token string\">'aqi'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">onChange</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> startText<span class=\"token punctuation\">,</span> endText <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// !!! 更新状态量</span>\n      ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span> startText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      ds<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> endText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  slider<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},"next":{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2},"html":"<p>数据可视化的本质就是将数据映射到图形，但是不同类型的数据适合的图形属性不同，可视化的结果也会因此不同。通过了解数据分类以及 G2 的数据分类设计可以帮助你更好得使用 G2 进行图表创作。</p>\n<h2 id=\"数据类型\"><a href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\" aria-label=\"数据类型 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数据类型</h2>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*yqUXSYlcQRUAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>数据的类型可以按照两种分类方式：</p>\n<ol>\n<li>数据自然的分类</li>\n<li>数据是否连续</li>\n</ol>\n<h3 id=\"数据自然的分类\"><a href=\"#%E6%95%B0%E6%8D%AE%E8%87%AA%E7%84%B6%E7%9A%84%E5%88%86%E7%B1%BB\" aria-label=\"数据自然的分类 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数据自然的分类</h3>\n<p>按照数据的自然分类，可以将数值类型分为：</p>\n<ul>\n<li>名词：常见的名词，不关心顺序，比如国家的名称；</li>\n<li>有序：有序的分类，例如警报信息，从低到高分为黄色警告、橙色警告和红色警告；</li>\n<li>间隔：有间隔的数字，不考虑 0 的意义。例如温度，0 度不代表没有温度；</li>\n<li>比例：表示字段之间存在比例关系，0 必须有意义。</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*3K66QpcSqY4AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h3 id=\"数据是否连续\"><a href=\"#%E6%95%B0%E6%8D%AE%E6%98%AF%E5%90%A6%E8%BF%9E%E7%BB%AD\" aria-label=\"数据是否连续 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数据是否连续</h3>\n<p>按照数据是否连续划分的方式：</p>\n<ul>\n<li>分类（定性）数据，又分为有序的分类和无序的分类；</li>\n<li>连续（定量）数据，连续不间断的数值，时间也是一种连续的数据类型。</li>\n</ul>\n<p>首先我们来看下面的这组数据：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'一月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> city<span class=\"token punctuation\">:</span> <span class=\"token string\">'tokyo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'二月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">6.9</span><span class=\"token punctuation\">,</span> city<span class=\"token punctuation\">:</span> <span class=\"token string\">'newYork'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'三月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">9.5</span><span class=\"token punctuation\">,</span> city<span class=\"token punctuation\">:</span> <span class=\"token string\">'tokyo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'四月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">14.5</span><span class=\"token punctuation\">,</span> city<span class=\"token punctuation\">:</span> <span class=\"token string\">'tokyo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> month<span class=\"token punctuation\">:</span> <span class=\"token string\">'五月'</span><span class=\"token punctuation\">,</span> temperature<span class=\"token punctuation\">:</span> <span class=\"token number\">18.2</span><span class=\"token punctuation\">,</span> city<span class=\"token punctuation\">:</span> <span class=\"token string\">'berlin'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>其中：month 代表月份，temperature 代表温度，city 代表城市。</p>\n<ul>\n<li>上面数据中 <code class=\"language-text\">month</code> 和 <code class=\"language-text\">city</code> 都是离散的分类，但是又有所差异。<code class=\"language-text\">month</code> 是有序的分类类型，而 <code class=\"language-text\">city</code> 是无序的分类类型。</li>\n<li><code class=\"language-text\">temperature</code> 是连续的数字。</li>\n</ul>\n<h2 id=\"数据类型与度量-scale\"><a href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BA%A6%E9%87%8F-scale\" aria-label=\"数据类型与度量 scale permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数据类型与度量 scale</h2>\n<p>我们在 G2 中将数据类型按照是否连续来划分，每种分类设计成不同的度量（Scale)，度量用于完成以下功能：</p>\n<ol>\n<li>将数据转换到 0-1 范围内，方便将数据映射到位置、颜色、大小等图形属性；</li>\n<li>将转换过的数据从 0-1 的范围内反转到原始值。例如 <code class=\"language-text\">分类a</code> 转换成 0.2，那此时 0.2 反转回来的值就是 <code class=\"language-text\">分类a</code>；</li>\n<li>将数据划分，用于在坐标轴上、图例上显示数值的范围、分类等信息，如下：</li>\n</ol>\n<p>(1) 分类信息展示在图例上</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*yPBWQLoxIrgAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>(2) 确定显示在坐标轴上坐标点 30，40，50，60，70</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*EkeCR7uWX2YAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>所以每种度量必须包含以下信息：</p>\n<ul>\n<li>定义域（domain），分类度量指的是各种分类值，连续度量则需要指定最小值、最大值；</li>\n<li>值域（range），将分类、连续数据映射到范围，默认 0-1；</li>\n<li>\n<p>坐标点（ticks），用于显示在图例或者坐标轴上，对于分类度量，坐标点就是分类类型；连续的数据类型，需要计算出对人比较友好的坐标点、友好的坐标间距，例如：</p>\n<ul>\n<li>1，2，3，4，5</li>\n<li>0, 5,10,15,20</li>\n<li>0.001, 0.005,0.010\n而不是：</li>\n<li>1.1，2.1，3.1，4.1</li>\n<li>12，22，32，42，52</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"g2-的度量类型\"><a href=\"#g2-%E7%9A%84%E5%BA%A6%E9%87%8F%E7%B1%BB%E5%9E%8B\" aria-label=\"g2 的度量类型 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>G2 的度量类型</h2>\n<p>G2 中提供了下面几种度量</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*HKviRYZGG3kAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<ul>\n<li>identity，常量类型的数值，也就是说数据的某个字段是不变的常量；</li>\n<li>linear，连续的数字 [1, 2, 3, 4, 5]；</li>\n<li>cat，分类，['男', '女']；</li>\n<li>time，连续的时间类型；</li>\n<li>log，连续非线性的 Log 数据 将 [1, 10, 100, 1000] 转换成 [0, 1, 2, 3]；</li>\n<li>pow，连续非线性的 pow 数据 将 [2, 4, 8, 16, 32] 转换成 [1, 2, 3, 4, 5]；</li>\n<li>timeCat，非连续的时间，比如股票的时间不包括周末或者未开盘的日期。</li>\n<li><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*TBSmR4u3nYsAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*onRRTK4aywIAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h3 id=\"属性和接口设计\"><a href=\"#%E5%B1%9E%E6%80%A7%E5%92%8C%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1\" aria-label=\"属性和接口设计 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>属性和接口设计</h3>\n<p>度量共有的属性：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">type</td>\n<td align=\"left\">度量类型</td>\n</tr>\n<tr>\n<td align=\"left\">range</td>\n<td align=\"left\">度量转换的值域，默认是 [0,1]</td>\n</tr>\n<tr>\n<td align=\"left\">alias</td>\n<td align=\"left\">别名，大多数数据集合的字段名都是英文，有时候需要定义中文名称，便于在图例、提示信息上显示</td>\n</tr>\n<tr>\n<td align=\"left\">ticks</td>\n<td align=\"left\">支持的坐标点，可以在图例、坐标轴上显示，坐标点的计算后面详细介绍</td>\n</tr>\n<tr>\n<td align=\"left\">tickCount</td>\n<td align=\"left\">坐标点的个数，不同类型的度量默认值不同</td>\n</tr>\n<tr>\n<td align=\"left\">formatter</td>\n<td align=\"left\">输出字段时的格式化函数，会影响数据在坐标轴、图例、提示信息 (tooltip) 上的显示</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"linear\"><a href=\"#linear\" aria-label=\"linear permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>linear</h3>\n<p>连续的数据类型的基类，包含以下特殊的属性</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">min</td>\n<td align=\"left\">定义域的最小值</td>\n</tr>\n<tr>\n<td align=\"left\">max</td>\n<td align=\"left\">定义域的最大值</td>\n</tr>\n<tr>\n<td align=\"left\">tickCount</td>\n<td align=\"left\">连续类型的度量，默认生成坐标点的个数是 5</td>\n</tr>\n<tr>\n<td align=\"left\">tickInterval</td>\n<td align=\"left\">用于指定坐标轴各个标度点的间距，是原始数据之间的间距差值，tickCount 和 tickInterval 同时声明时以 tickCount 为准</td>\n</tr>\n<tr>\n<td align=\"left\">nice</td>\n<td align=\"left\">是否根据人对数字识别的友好度，来调整 min 和 max。例如 min:3,max: 97，如果 nice: true，那么会自动调整为：min: 0,max: 100</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"cat\"><a href=\"#cat\" aria-label=\"cat permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cat</h3>\n<p>分类类型度量的特殊属性</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">values</td>\n<td align=\"left\">当前字段的分类值</td>\n</tr>\n</tbody>\n</table>\n<p>G2 创建图表的时候，values 字段一般会自动从数据中取得，但是以下 2 中情形下需要用户手动指定</p>\n<ul>\n<li>需要指定分类的顺序时，例如：type 字段有'最大','最小'和'适中'3 种类型，我们想指定这些分类在坐标轴或者图例上的顺序时：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a1'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b1'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'最小'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a2'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b2'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'最大'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a3'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b3'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'适中'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">const</span> defs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'type'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'cat'</span><span class=\"token punctuation\">,</span> values<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'最小'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'适中'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'最大'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>如果不声明度量的 values 字段，那么默认的顺序是：‘最小’，‘最大’，‘适中’</p>\n<ul>\n<li>如果数据中的分类类型使用枚举的方式表示，那也也需要指定 values</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a1'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b1'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a2'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b2'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token string\">'a3'</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token string\">'b3'</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">const</span> defs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'type'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'cat'</span><span class=\"token punctuation\">,</span> values<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'最小'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'适中'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'最大'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>必须指定'cat'类型，values 的值按照索引跟枚举类型一一对应</p>\n<h3 id=\"time\"><a href=\"#time\" aria-label=\"time permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>time</h3>\n<p>time 类型是一种特殊的连续型数值，所以我们将 time 类型的度量定义为 linear 的子类，除了支持所有通用的属性和 linear 度量的属性外，还有自己特殊的属性：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">mask</td>\n<td align=\"left\">数据的格式化格式 默认：'YYYY-MM-DD'</td>\n</tr>\n</tbody>\n</table>\n<p>目前支持 2 种类型的时间（time) 类型：</p>\n<ul>\n<li>时间戳的数字形式，1436237115500 // new Date().getTime()</li>\n<li>时间字符串： '2015-03-01', '2015-03-01 12:01:40', '2015/01/05','2015-03-01T16:00:00.000Z'</li>\n</ul>\n<p>格式化日期时mask的占位符，参考 <a href=\"https://github.com/taylorhakes/fecha#formatting-tokens\" target=\"_self\" rel=\"nofollow\">fecha</a></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\">Token</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><strong>Month</strong></td>\n<td align=\"left\">M</td>\n<td align=\"left\">1 2 ... 11 12</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">MM</td>\n<td align=\"left\">01 02 ... 11 12</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">MMM</td>\n<td align=\"left\">Jan Feb ... Nov Dec</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">MMMM</td>\n<td align=\"left\">January February ... November December</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Day of Month</strong></td>\n<td align=\"left\">D</td>\n<td align=\"left\">1 2 ... 30 31</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">Do</td>\n<td align=\"left\">1st 2nd ... 30th 31st</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">DD</td>\n<td align=\"left\">01 02 ... 30 31</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Day of Week</strong></td>\n<td align=\"left\">d</td>\n<td align=\"left\">0 1 ... 5 6</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">ddd</td>\n<td align=\"left\">Sun Mon ... Fri Sat</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">dddd</td>\n<td align=\"left\">Sunday Monday ... Friday Saturday</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Year</strong></td>\n<td align=\"left\">YY</td>\n<td align=\"left\">70 71 ... 29 30</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">YYYY</td>\n<td align=\"left\">1970 1971 ... 2029 2030</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>AM/PM</strong></td>\n<td align=\"left\">A</td>\n<td align=\"left\">AM PM</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">a</td>\n<td align=\"left\">am pm</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Hour</strong></td>\n<td align=\"left\">H</td>\n<td align=\"left\">0 1 ... 22 23</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">HH</td>\n<td align=\"left\">00 01 ... 22 23</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">h</td>\n<td align=\"left\">1 2 ... 11 12</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">hh</td>\n<td align=\"left\">01 02 ... 11 12</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Minute</strong></td>\n<td align=\"left\">m</td>\n<td align=\"left\">0 1 ... 58 59</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">mm</td>\n<td align=\"left\">00 01 ... 58 59</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Second</strong></td>\n<td align=\"left\">s</td>\n<td align=\"left\">0 1 ... 58 59</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">ss</td>\n<td align=\"left\">00 01 ... 58 59</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Fractional Second</strong></td>\n<td align=\"left\">S</td>\n<td align=\"left\">0 1 ... 8 9</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">SS</td>\n<td align=\"left\">0 1 ... 98 99</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">SSS</td>\n<td align=\"left\">0 1 ... 998 999</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Timezone</strong></td>\n<td align=\"left\">ZZ</td>\n<td align=\"left\">-0700 -0600 ... +0600 +0700</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"log\"><a href=\"#log\" aria-label=\"log permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>log</h3>\n<p>log 类型的数据可以将非常大范围的数据映射到一个均匀的范围内，这种度量是 linear 的子类，支持所有通用的属性和 linear 度量的属性，特有的属性：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">base</td>\n<td align=\"left\">Log 的基数，默认是 2</td>\n</tr>\n</tbody>\n</table>\n<p>以下情形下建议使用 log 度量</p>\n<ul>\n<li>散点图时数据的分布非常广，同时数据分散在几个区间内。例如 分布在 0-100， 10000 - 100000， 1 千万 - 1 亿内，这时候适合使用 log 度量</li>\n<li>使用热力图时，数据分布不均匀时也会出现只有非常高的数据点附近才有颜色，此时需要使用 log 度量，对数据进行 log 处理。</li>\n</ul>\n<h3 id=\"pow\"><a href=\"#pow\" aria-label=\"pow permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pow</h3>\n<p>pow 类型的数据也是 linear 类型的一个子类，除了支持所有通用的属性和 linear 度量的属性外也有自己的属性：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">exponent</td>\n<td align=\"left\">指数，默认是 2</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"timecat\"><a href=\"#timecat\" aria-label=\"timecat permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>timeCat</h3>\n<p>timeCat 类型的数据，是一种日期数据，但是不是连续的日期。例如代表存在股票交易的日期，此时如果使用 time 类型，那么节假日没有数据，折线图、k 线图会断裂，所以此时使用 timeCat 的度量表示分类的日期，默认会对数据做排序。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">tickCount</td>\n<td align=\"left\">此时需要设置坐标点的个数</td>\n</tr>\n<tr>\n<td align=\"left\">mask</td>\n<td align=\"left\">数据的格式化格式</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*dVEvRoLH-t4AAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<h3 id=\"度量坐标点的计算\"><a href=\"#%E5%BA%A6%E9%87%8F%E5%9D%90%E6%A0%87%E7%82%B9%E7%9A%84%E8%AE%A1%E7%AE%97\" aria-label=\"度量坐标点的计算 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>度量坐标点的计算</h3>\n<p>度量的信息需要在图例、坐标轴上显示时，不可能全部显示所有的数据，那么就需要选取一些代表性的数据显示在图例、坐标轴上，我们称这些数据为<code class=\"language-text\">ticks</code>（坐标点），不同的类型的度量计算 ticks（坐标点）的算法各不一样，我们这里提供 3 类度量 ticks（坐标点）的计算：</p>\n<ul>\n<li>分类度量，包括 cat,timeCat</li>\n<li>连续类型度量，包括 linear,log,pow</li>\n<li>时间类型度量，包括 time</li>\n</ul>\n<h4 id=\"分类度量的计算\"><a href=\"#%E5%88%86%E7%B1%BB%E5%BA%A6%E9%87%8F%E7%9A%84%E8%AE%A1%E7%AE%97\" aria-label=\"分类度量的计算 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>分类度量的计算</h4>\n<p>分类度量一般情况下不需要计算 ticks，直接将所有的分类在图例、坐标轴上显示出来即可</p>\n<p>但是当分类类型的数值过多，同时分类间有顺序关系时可以省略掉一些分类例如：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*uRobSJl9ldgAAAAAAAAAAABkARQnAQ\" alt=\"image | left\"></p>\n<p>计算时需要使用到的属性：</p>\n<ul>\n<li>values: 当前度量的分类值，如果未指定，则直接从数据源中提取</li>\n<li>tickCount: 保留几个坐标点</li>\n</ul>\n<p>分类的 ticks 计算非常简单：</p>\n<ul>\n<li>均匀的从 values 中取 tickCount 个坐标点</li>\n<li>为了保证 values 第一个和最后一个 value 都在 ticks 中，取值的间隔是 (values.length - 1) / (tickCount - 1), 则保证 values 第一个和最后一个 value 都在 ticks 中</li>\n</ul>\n<p>整除的场景：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> values<span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'第一周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第二周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第三周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第四周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第五周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第六周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第七周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第八周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第九周'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> tickCount <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 由于 values.length = 9;</span>\n<span class=\"token comment\">// 平均间隔 step = (9 - 1) / (5 - 1) = 2;</span>\n\n<span class=\"token keyword\">const</span> ticks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'第一周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第三周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第五周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第七周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第九周'</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<p>不能整除：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> values<span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'第一周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第二周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第三周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第四周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第五周'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> tickCount <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 由于 values.length = 5;</span>\n<span class=\"token comment\">// 平均间隔 step = (5 - 1) / (4 - 1) = 4/3; 取整 step = 1;</span>\n\n<span class=\"token comment\">// 舍弃了第四周</span>\n<span class=\"token keyword\">const</span> ticks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'第一周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第二周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第三周'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'第五周'</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<h4 id=\"连续数据度量的计算\"><a href=\"#%E8%BF%9E%E7%BB%AD%E6%95%B0%E6%8D%AE%E5%BA%A6%E9%87%8F%E7%9A%84%E8%AE%A1%E7%AE%97\" aria-label=\"连续数据度量的计算 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>连续数据度量的计算</h4>\n<p>连续数据类型计算坐标点需要考虑以下问题：</p>\n<ul>\n<li>坐标点必须是对人友好的数据 (nice numbers)，不能简单的均分的方式计算坐标点。\n例如 min: 3,max: 97,tickCount: 6，如果平均划分则会生成 ticks: [3, 21.888,...,78.111,97]，我们理想的方式是 ticks: [0, 20, 40, 60, 80, 100]</li>\n<li>计算的数值范围不确定，有可能是 0, 100, 1000 也有可能是 0.01，0.02，0.03</li>\n</ul>\n<p>连续数据坐标点的计算方式如下：</p>\n<ul>\n<li>指定一个逼近数组 [0,2,5,10], 用于计算对人友好的 tickInterval</li>\n<li>\n<p>根据传入的 min,max,tickCount 计算 tickInterval, 将 tickInterval 的值转换到 0-10 之间，保留转换的系数，例如 min: 0, max: 10003, tickCount = 4，那么计算的 tickInterval = 3001 变成 3.001，系数是 1000，然后在逼近数组中找到一个逼近值，以 3.001 为示例</p>\n<ul>\n<li>可以选择向上逼近（最终生成的坐标点个数小于 tickCount)，得出逼近值 5</li>\n<li>或者选择向下逼近（最终生成的坐标点的个数大于 tickCount), 得出逼近值 2</li>\n<li>或者四舍五入（有可能会多，有可能会少）, 得出逼近值 5</li>\n</ul>\n</li>\n<li>\n<p>将得到的逼近值乘以前面求得的系数 1000,</p>\n<ul>\n<li>如果逼近值是 5，tickInterval = 1000 * 5 = 5000, 将 min, 和 max 取 tickInterval 的倍数，最终计算出来的 ticks : [0, 5000, 10000, 15000]</li>\n<li>如果逼近值是 2，tickInterval = 1000 * 2 = 2000, 将 min, 和 max 取 tickInterval 的倍数，最终计算出来的 ticks :[0, 2000, 4000, 6000, 8000, 1000, 12000]</li>\n</ul>\n</li>\n</ul>\n<p>伪代码如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> snapArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> min <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> max <span class=\"token operator\">=</span> <span class=\"token number\">10003</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> tickCount <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> tickInterval <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>max <span class=\"token operator\">-</span> min<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>tickCount <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3001;</span>\n\n<span class=\"token keyword\">const</span> factor <span class=\"token operator\">=</span> <span class=\"token function\">getFactor</span><span class=\"token punctuation\">(</span>tickInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1000，如果value > 10 则不断除以10 直到除数 1&lt;value&lt;10，如果value &lt; 1,则不断乘以10， 直到 1&lt; value &lt; 10</span>\n<span class=\"token keyword\">const</span> snapValue <span class=\"token operator\">=</span> <span class=\"token function\">snap</span><span class=\"token punctuation\">(</span>snapArray<span class=\"token punctuation\">,</span> tickInterval <span class=\"token operator\">/</span> factor<span class=\"token punctuation\">,</span> <span class=\"token string\">'ceil'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 向上逼近，逼近值5</span>\n<span class=\"token keyword\">const</span> tickInterval <span class=\"token operator\">=</span> snapValue <span class=\"token operator\">*</span> factor<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> min <span class=\"token operator\">=</span> <span class=\"token function\">snapMultiple</span><span class=\"token punctuation\">(</span>tickInterval<span class=\"token punctuation\">,</span> min<span class=\"token punctuation\">,</span> <span class=\"token string\">'floor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 向下取tickInterval的整数倍，0</span>\n<span class=\"token keyword\">const</span> max <span class=\"token operator\">=</span> <span class=\"token function\">snapMultiple</span><span class=\"token punctuation\">(</span>tickInterval<span class=\"token punctuation\">,</span> max<span class=\"token punctuation\">,</span> <span class=\"token string\">'ceil'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 向上取tickInterval的整数倍，15000</span>\n\n<span class=\"token keyword\">const</span> ticks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> min<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> max<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> tickInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  ticks<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">return</span> ticks<span class=\"token punctuation\">;</span></code></pre></div>\n<p>注意事项</p>\n<ul>\n<li>snapArray 可以进行调整，数组内部值越多，间距越小，计算出来的 tickCount 跟预期的差距越小</li>\n<li>min，必须向下取 tickInterval 的倍数，max , 必须向上取 tickInterval 的倍数</li>\n</ul>\n<h4 id=\"时间类型的度量计算坐标点\"><a href=\"#%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BA%A6%E9%87%8F%E8%AE%A1%E7%AE%97%E5%9D%90%E6%A0%87%E7%82%B9\" aria-label=\"时间类型的度量计算坐标点 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>时间类型的度量计算坐标点</h4>\n<p>时间类型的数据是连续数据，但是不适合连续数据度量的计算方式原因在于：</p>\n<ul>\n<li>时间戳的数值比较大，包含毫秒信息，取对人友好的数值格式化出来的时间不一定对人友好，如 1466677570000, 是 ’2016 18:26:10‘</li>\n<li>对于日期的间隔大于月份，大于年的数据集，没法取得固定的 tickInterval，因为月份和年的时间间隔并不相等</li>\n</ul>\n<p>所以时间类型的度量需要自己的算法，算法如下：</p>\n<ul>\n<li>根据 min,max 和 tickCount 计算 tickInterval；</li>\n<li>\n<p>计算 tickInterval 占一年的比例，yfactor = interval / yms（一年的毫秒数）</p>\n<ul>\n<li>如果 yfactor > 0.51，也就是时间间隔大于半年，取 min 和 max 的年份，按照年计算 ticks\n例如： min: 2001-05-02, max: 2015-10-12, tickCount = 6, 此时 ticks = [2001-01-01,2004-01-01 2007-01-01,2010-01-01, 2013-01-01, 2016-01-01]</li>\n<li>如果 0.0834 &#x3C; yfactor &#x3C; 0.51, 时间间隔大于一个月，那么就按月的倍数来计算 ticks\n例如： min: 2001-05-02,max: 2002-04-03, tickCount = 5, 此时 ticks = [2001-05-01, 2001-07-01, 2001-09-01, 2001-11-01, 2002-02-01, 2002-04-01, 2001-06-01]</li>\n<li>如果时间间隔大于 1 天，按照天的倍数计算；如果时间间隔大于一个小时，按照小时的倍数计算。然后按照分、秒、毫秒计算 ticks</li>\n</ul>\n</li>\n</ul>\n<p>注意事项：</p>\n<ul>\n<li>tickCount 的值也无法确定最终生成的 ticks 的个数</li>\n<li>必须保证计算出来的 ticks 的第一个值小于 min, 最后一个值大于 max</li>\n</ul>"}}}}}