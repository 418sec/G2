{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-0-9-95-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/en/docs/api/animate","result":{"data":{"site":{"siteMetadata":{"title":"G2","githubUrl":"https://github.com/antvis/g2","docs":[{"slug":"manual/getting-started","title":{"zh":"快速开始","en":"Getting Started"},"order":0},{"slug":"manual/tutorial","title":{"zh":"使用教程","en":"Tutorial"},"order":1},{"slug":"manual/advanced","title":{"zh":"高级教程","en":"Advanced"},"order":2},{"slug":"manual/faq","title":{"zh":"G2 常见问题","en":"FAQ"},"order":3}]},"pathPrefix":""},"markdownRemark":{"html":"<p>在 G2 中，我们提供了四种动画场景类型：</p>\n<ul>\n<li>appear: 初始化时的入场动画；</li>\n<li>enter: 更新时的出现动画；</li>\n<li>update: 更新时的变化动画；</li>\n<li>leave: 更新时的动画；</li>\n</ul>\n<p>通过如下方式为图形定义这四种动画场景的配置：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 配置更新时的入场动画，其他动画类型相同</span>\ngeom<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  enter<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    animation<span class=\"token punctuation\">:</span> <span class=\"token string\">'fadeIn'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 动画名称</span>\n    easing<span class=\"token punctuation\">:</span> <span class=\"token string\">'easeQuadIn'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 动画缓动效果</span>\n    delay<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 动画延迟执行时间</span>\n    duration<span class=\"token punctuation\">:</span> <span class=\"token number\">600</span> <span class=\"token comment\">// 动画执行时间</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>另外 <code class=\"language-text\">easing</code> <code class=\"language-text\">delay</code> <code class=\"language-text\">duration</code> 均可支持回调，如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * @param  {Number} index      shape 的索引值\n * @param  {Number} id shape 的 id 标识\n **/</span>\n<span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>参数 animation 为对应执行的动画名称，G2 默认内置了如下几种动画：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  enter<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    clipIn<span class=\"token punctuation\">,</span>\n    zoomIn<span class=\"token punctuation\">,</span>\n    pathIn<span class=\"token punctuation\">,</span>\n    scaleInY<span class=\"token punctuation\">,</span>\n    scaleInX<span class=\"token punctuation\">,</span>\n    fanIn<span class=\"token punctuation\">,</span>\n    fadeIn\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  leave<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    lineWidthOut<span class=\"token punctuation\">,</span>\n    zoomOut<span class=\"token punctuation\">,</span>\n    pathOut<span class=\"token punctuation\">,</span>\n    fadeOut\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  appear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    clipIn<span class=\"token punctuation\">,</span>\n    zoomIn<span class=\"token punctuation\">,</span>\n    pathIn<span class=\"token punctuation\">,</span>\n    scaleInY<span class=\"token punctuation\">,</span>\n    scaleInX<span class=\"token punctuation\">,</span>\n    fanIn<span class=\"token punctuation\">,</span>\n    fadeIn\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  update<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    fadeIn<span class=\"token punctuation\">,</span>\n    fanIn\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>如果上述动画动作不满足需求，用户也可以自己注册动画动作：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Animate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token constant\">G2</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/**\n * @param  {String} animationType      动画场景类型 appear enter leave update\n * @param  {String} 动画名称，用户自定义即可\n * @param  {Function} 动画执行函数\n **/</span>\nAnimate<span class=\"token punctuation\">.</span><span class=\"token function\">registerAnimation</span><span class=\"token punctuation\">(</span>animationType<span class=\"token punctuation\">,</span> animationName<span class=\"token punctuation\">,</span> animationFun<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>图形 Shape 的动画接口说明：<code class=\"language-text\">shape.animate(props, duration, delay, easing, callback)</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n  * 执行动画\n  * @param  {Object}   toProps  动画最终状态\n  * @param  {Number}   duration 动画执行时间\n  * @param  {Number}   delay    动画延迟时间\n  * @param  {String}   easing   动画缓动效果\n  * @param  {Function} callback 动画执行后的回调\n  */</span>\nshape<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>toProps<span class=\"token punctuation\">,</span> duration<span class=\"token punctuation\">,</span> delay <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> easing<span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>说明：</strong></p>\n<p><code class=\"language-text\">easing</code> 动画缓动效果参见 <a href=\"https://github.com/d3/d3-ease\" target=\"_self\" rel=\"nofollow\">d3-ease</a>。</p>\n<h5 id=\"a-namexzxvdya例子\"><a href=\"#a-namexzxvdya%E4%BE%8B%E5%AD%90\" aria-label=\"a namexzxvdya例子 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a name=\"xzxvdy\"></a>例子</h5>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Chart<span class=\"token punctuation\">,</span> Animate<span class=\"token punctuation\">,</span> Util <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token constant\">G2</span><span class=\"token punctuation\">;</span>\nAnimate<span class=\"token punctuation\">.</span><span class=\"token function\">registerAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appear'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'delayScaleInY'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>\n  <span class=\"token parameter\">shape<span class=\"token punctuation\">,</span>\n  animateCfg<span class=\"token punctuation\">,</span></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> box <span class=\"token operator\">=</span> shape<span class=\"token punctuation\">.</span><span class=\"token function\">getBBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取柱子包围盒</span>\n  <span class=\"token keyword\">const</span> origin <span class=\"token operator\">=</span> shape<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'origin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取柱子原始数据</span>\n  <span class=\"token keyword\">const</span> points <span class=\"token operator\">=</span> origin<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取柱子顶点</span>\n  <span class=\"token comment\">// 计算柱子的变换中点</span>\n  <span class=\"token keyword\">const</span> centerX <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>box<span class=\"token punctuation\">.</span>minX <span class=\"token operator\">+</span> box<span class=\"token punctuation\">.</span>maxX<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> centerY<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>points<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> points<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 当顶点在零点之下</span>\n    centerY <span class=\"token operator\">=</span> box<span class=\"token punctuation\">.</span>maxY<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    centerY <span class=\"token operator\">=</span> box<span class=\"token punctuation\">.</span>minY<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// 设置初始态</span>\n  shape<span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'transform'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'t'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>centerX<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>centerY<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'s'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'t'</span><span class=\"token punctuation\">,</span> centerX<span class=\"token punctuation\">,</span> centerY<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> shape<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> delay <span class=\"token operator\">=</span> animateCfg<span class=\"token punctuation\">.</span>delay<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Util<span class=\"token punctuation\">.</span><span class=\"token function\">isFunction</span><span class=\"token punctuation\">(</span>delay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    delay <span class=\"token operator\">=</span> animateCfg<span class=\"token punctuation\">.</span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">let</span> easing <span class=\"token operator\">=</span> animateCfg<span class=\"token punctuation\">.</span>easing<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Util<span class=\"token punctuation\">.</span><span class=\"token function\">isFunction</span><span class=\"token punctuation\">(</span>easing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    easing <span class=\"token operator\">=</span> animateCfg<span class=\"token punctuation\">.</span><span class=\"token function\">easing</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// 设置动画目标态</span>\n  shape<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n      transform<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'t'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>centerX<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>centerY<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'s'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'t'</span><span class=\"token punctuation\">,</span> centerX<span class=\"token punctuation\">,</span> centerY<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    animateCfg<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">,</span>\n    easing<span class=\"token punctuation\">,</span>\n    animateCfg<span class=\"token punctuation\">.</span>callback<span class=\"token punctuation\">,</span>\n    delay<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">/</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">/</span> <span class=\"token number\">5</span> <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">/</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Chart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  container<span class=\"token punctuation\">:</span> <span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span>\n  forceFit<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">axis</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart\n  <span class=\"token punctuation\">.</span><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x*y'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#4a657a-#308e92-#b1cfa5-#f5d69f-#f5898b-#ef5055'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    appear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      animation<span class=\"token punctuation\">:</span> <span class=\"token string\">'delayScaleInY'</span><span class=\"token punctuation\">,</span>\n      easing<span class=\"token punctuation\">:</span> <span class=\"token string\">'easeElasticOut'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> index <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchart<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>","tableOfContents":"<ul>\n<li><a href=\"/en/docs/api/animate/#a-namexzxvdya%E4%BE%8B%E5%AD%90\">&#x3C;a name=\"xzxvdy\">&#x3C;/a>例子</a></li>\n</ul>","fields":{"slug":"/en/docs/api/animate","readingTime":{"text":"2 min read","time":119700}},"frontmatter":{"title":"Animate 动画"},"parent":{"__typename":"File","relativePath":"api/animate.en.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/en/examples/relation/relation"},"frontmatter":{"title":"Graph","order":0}}},{"node":{"fields":{"slug":"/en/examples/radar/radar"},"frontmatter":{"title":"Radar Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/relation/relation"},"frontmatter":{"title":"关系图","order":0}}},{"node":{"fields":{"slug":"/zh/examples/radar/radar"},"frontmatter":{"title":"雷达图","order":0}}},{"node":{"fields":{"slug":"/en/examples/point/scatter"},"frontmatter":{"title":"Scatter Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/point/scatter"},"frontmatter":{"title":"散点图","order":0}}},{"node":{"fields":{"slug":"/en/examples/pie/basic"},"frontmatter":{"title":"Basic Pie Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/pie/basic"},"frontmatter":{"title":"基础饼图","order":0}}},{"node":{"fields":{"slug":"/en/examples/other/other"},"frontmatter":{"title":"Others","order":0}}},{"node":{"fields":{"slug":"/zh/examples/other/other"},"frontmatter":{"title":"其他图表","order":0}}},{"node":{"fields":{"slug":"/zh/examples/map/map"},"frontmatter":{"title":"地图","order":0}}},{"node":{"fields":{"slug":"/en/examples/map/map"},"frontmatter":{"title":"Map","order":0}}},{"node":{"fields":{"slug":"/en/examples/line/basic"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/line/basic"},"frontmatter":{"title":"基础折线图","order":0}}},{"node":{"fields":{"slug":"/en/examples/heatmap/heatmap"},"frontmatter":{"title":"Heatmap","order":0}}},{"node":{"fields":{"slug":"/zh/examples/heatmap/heatmap"},"frontmatter":{"title":"热力图","order":0}}},{"node":{"fields":{"slug":"/en/examples/gauge/gauge"},"frontmatter":{"title":"Gauge","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gauge/gauge"},"frontmatter":{"title":"仪表盘","order":0}}},{"node":{"fields":{"slug":"/en/examples/gallery/line"},"frontmatter":{"title":"Line Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/gallery/line"},"frontmatter":{"title":"折线图","order":0}}},{"node":{"fields":{"slug":"/en/examples/funnel/funnel"},"frontmatter":{"title":"Funnel Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/funnel/funnel"},"frontmatter":{"title":"漏斗图","order":0}}},{"node":{"fields":{"slug":"/en/examples/facet/facet"},"frontmatter":{"title":"Facet","order":0}}},{"node":{"fields":{"slug":"/zh/examples/facet/facet"},"frontmatter":{"title":"分面","order":0}}},{"node":{"fields":{"slug":"/en/examples/component/component"},"frontmatter":{"title":"Chart Components","order":0}}},{"node":{"fields":{"slug":"/zh/examples/component/component"},"frontmatter":{"title":"图表组件","order":0}}},{"node":{"fields":{"slug":"/en/examples/candlestick/demo"},"frontmatter":{"title":"K Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/candlestick/demo"},"frontmatter":{"title":"烛形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/column/basic"},"frontmatter":{"title":"Basic Column Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/column/basic"},"frontmatter":{"title":"基础柱状图","order":0}}},{"node":{"fields":{"slug":"/en/examples/box/box"},"frontmatter":{"title":"Box Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/box/box"},"frontmatter":{"title":"箱型图","order":0}}},{"node":{"fields":{"slug":"/en/examples/bar/basic"},"frontmatter":{"title":"Basic Bar Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/bar/basic"},"frontmatter":{"title":"基础条形图","order":0}}},{"node":{"fields":{"slug":"/en/examples/area/basic"},"frontmatter":{"title":"Area Chart","order":0}}},{"node":{"fields":{"slug":"/zh/examples/area/basic"},"frontmatter":{"title":"面积图","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/en/examples/pie/donut"},"frontmatter":{"title":"Donut Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/pie/donut"},"frontmatter":{"title":"环图","order":1}}},{"node":{"fields":{"slug":"/en/examples/line/double"},"frontmatter":{"title":"Double Line Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/line/double"},"frontmatter":{"title":"双折线图","order":1}}},{"node":{"fields":{"slug":"/en/examples/gallery/column"},"frontmatter":{"title":"Column Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/gallery/column"},"frontmatter":{"title":"柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/column/dodge"},"frontmatter":{"title":"Grouped Column Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/column/dodge"},"frontmatter":{"title":"分组柱状图","order":1}}},{"node":{"fields":{"slug":"/en/examples/bar/dodge"},"frontmatter":{"title":"Grouped Bar Chart","order":1}}},{"node":{"fields":{"slug":"/zh/examples/bar/dodge"},"frontmatter":{"title":"分组条形图","order":1}}},{"node":{"fields":{"slug":"/zh/examples/area/stacked"},"frontmatter":{"title":"堆叠面积图","order":1}}},{"node":{"fields":{"slug":"/en/examples/area/stacked"},"frontmatter":{"title":"Stacked Area Chart","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/en/examples/pie/rose"},"frontmatter":{"title":"Nightingale Rose Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/pie/rose"},"frontmatter":{"title":"南丁格尔玫瑰图","order":2}}},{"node":{"fields":{"slug":"/en/examples/line/multiple"},"frontmatter":{"title":"multiple line chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/line/multiple"},"frontmatter":{"title":"多折线图","order":2}}},{"node":{"fields":{"slug":"/en/examples/gallery/bar"},"frontmatter":{"title":"Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/gallery/bar"},"frontmatter":{"title":"条形图","order":2}}},{"node":{"fields":{"slug":"/zh/examples/column/stack"},"frontmatter":{"title":"堆叠柱状图","order":2}}},{"node":{"fields":{"slug":"/en/examples/column/stack"},"frontmatter":{"title":"Stacked Column Chart","order":2}}},{"node":{"fields":{"slug":"/en/examples/bar/stack"},"frontmatter":{"title":"Stacked Bar Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/bar/stack"},"frontmatter":{"title":"堆叠条形图","order":2}}},{"node":{"fields":{"slug":"/en/examples/area/range"},"frontmatter":{"title":"Range Area Chart","order":2}}},{"node":{"fields":{"slug":"/zh/examples/area/range"},"frontmatter":{"title":"区间面积图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/en/examples/pie/nested"},"frontmatter":{"title":"Nested Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/pie/nested"},"frontmatter":{"title":"嵌套饼图","order":3}}},{"node":{"fields":{"slug":"/zh/examples/line/step"},"frontmatter":{"title":"阶梯折线图","order":3}}},{"node":{"fields":{"slug":"/en/examples/line/step"},"frontmatter":{"title":"Step Line Chart","order":3}}},{"node":{"fields":{"slug":"/en/examples/gallery/pie"},"frontmatter":{"title":"Pie Chart","order":3}}},{"node":{"fields":{"slug":"/zh/examples/gallery/pie"},"frontmatter":{"title":"饼图","order":3}}},{"node":{"fields":{"slug":"/en/examples/column/histogram"},"frontmatter":{"title":"Histogram","order":3}}},{"node":{"fields":{"slug":"/zh/examples/column/histogram"},"frontmatter":{"title":"直方图","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/examples/gallery/area"},"frontmatter":{"title":"Area Chart","order":4}}},{"node":{"fields":{"slug":"/zh/examples/gallery/area"},"frontmatter":{"title":"面积图","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/en/examples/gallery/gauge"},"frontmatter":{"title":"Gauge","order":5}}},{"node":{"fields":{"slug":"/zh/examples/gallery/gauge"},"frontmatter":{"title":"仪表盘","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/examples/gallery/facet"},"frontmatter":{"title":"Facet","order":6}}},{"node":{"fields":{"slug":"/zh/examples/gallery/facet"},"frontmatter":{"title":"分面","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/en/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/zh/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/zh/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/zh/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/en/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/en/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/zh/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/en/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/zh/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/zh/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/en/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/en/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/zh/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"next":{"node":{"fields":{"slug":"/en/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13},"html":"<p>一个数据视图（DataSet.View）实例在接入数据时就会用到 Connector，其语法如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> connectorName<span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span>otherOptions\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>举个例子：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> testCSV <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Expt,Run,Speed\n 1,1,850\n 1,2,740\n 1,3,900\n 1,4,1070</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dv <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DataSet<span class=\"token punctuation\">.</span>View</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>testCSV<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'csv'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dv<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*\n * dv.rows:\n * [\n *   {Expt: \" 1\", Run: \"1\", Speed: \"850\"}\n *   {Expt: \" 1\", Run: \"2\", Speed: \"740\"}\n *   {Expt: \" 1\", Run: \"3\", Speed: \"900\"}\n *   {Expt: \" 1\", Run: \"4\", Speed: \"1070\"}\n * ]\n */</span></code></pre></div>\n<p>上述代码中，数据视图实例 <code class=\"language-text\">dv</code> 使用 <code class=\"language-text\">csv</code> 类型的 Connector 载入了一段 CSV 文本。</p>\n<p>目前 DataSet 支持以下几种常用的 Connector：</p>\n<h2 id=\"default-默认\"><a href=\"#default-%E9%BB%98%E8%AE%A4\" aria-label=\"default 默认 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>default 默认</h2>\n<p>直接调用 <code class=\"language-text\">dv.source(data)</code>，不通过配置项指定使用的 Connector 时，则有以下两种默认的情形：</p>\n<p>第一种，data 传入的是具体数组数据，那么</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span>rows <span class=\"token operator\">=</span> <span class=\"token function\">deepClone</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>第二种，data 传入的是另一个 DataView 的实例或者实例的名称，那么</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span>rows <span class=\"token operator\">=</span> <span class=\"token function\">deepClone</span><span class=\"token punctuation\">(</span>ds<span class=\"token punctuation\">.</span><span class=\"token function\">getView</span><span class=\"token punctuation\">(</span>otherDv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"dsv\"><a href=\"#dsv\" aria-label=\"dsv permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dsv</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>dsvStr<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'dsv'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">// 指定使用dsv connector</span>\n  delimiter<span class=\"token punctuation\">:</span> <span class=\"token string\">'|'</span> <span class=\"token comment\">// 指定分隔符</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"csv\"><a href=\"#csv\" aria-label=\"csv permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>csv</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>csvStr<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'csv'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">// 指定使用dsv connector</span>\n  delimiter<span class=\"token punctuation\">:</span> <span class=\"token string\">','</span> <span class=\"token comment\">// 指定分隔符</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"tsv\"><a href=\"#tsv\" aria-label=\"tsv permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tsv</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>tsvStr<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'tsv'</span> <span class=\"token comment\">// 指定使用tsv connector</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"geojson\"><a href=\"#geojson\" aria-label=\"geojson permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GeoJSON</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>geojsonData<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'GeoJSON'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 别名 geo / geojson</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>dv.dataType 会被更改为 'geo'，从而 dv 可以执行一些 Geo 相关的实例方法。</p>\n</blockquote>\n<h2 id=\"topojson\"><a href=\"#topojson\" aria-label=\"topojson permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TopoJSON</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>topojsonData<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'TopoJSON'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 别名 topojson</span>\n  object<span class=\"token punctuation\">:</span> <span class=\"token string\">'xxx'</span>     <span class=\"token comment\">// TopoJSON 相当于多个 GeoJSON 合并起来做了压缩，其中每一个 object 都相当于一份 GeoJSON 数据，指定 object 就是从中提取一份 Geo 数据</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>dv.dataType 会被更改为 'geo'，从而 dv 可以执行一些 Geo 相关的实例方法。</p>\n</blockquote>\n<h2 id=\"hierarchy\"><a href=\"#hierarchy\" aria-label=\"hierarchy permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>hierarchy</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'hierarchy'</span><span class=\"token punctuation\">,</span>        <span class=\"token comment\">// 别名 tree</span>\n  <span class=\"token function-variable function\">children</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">d</span> <span class=\"token operator\">=></span> d<span class=\"token punctuation\">.</span>children <span class=\"token comment\">// 可选，函数，返回子树</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>dv.dataType 会被变更为 'hierarchy' ，从而 dv 可以执行一些树形结构相关的实例方法和 Transform。</p>\n</blockquote>\n<blockquote>\n<p>dv.root 为根节点</p>\n</blockquote>\n<h2 id=\"graph\"><a href=\"#graph\" aria-label=\"graph permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>graph</h2>\n<p>具体用法见示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dv<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'graph'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">nodes</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">d</span> <span class=\"token operator\">=></span> d<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 节点集对应字段</span>\n  <span class=\"token function-variable function\">edges</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">d</span> <span class=\"token operator\">=></span> d<span class=\"token punctuation\">.</span>edges  <span class=\"token comment\">// 边集对应字段</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>dv.dataType 会被变更为 'graph'，从而 dv 可以执行图相关的实例方法和 Transform。</p>\n</blockquote>"}}}}}